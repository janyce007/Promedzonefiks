<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>PromedZone â€” Event & Info</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@400;600;700&family=Bricolage+Grotesque:wght@700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<style>
:root{
  --accent:#1652ff;
  --accent-2:#ffd24d;
  --bg-1:#e8f2ff; 
  --bg-2:#fff8e6; 
  --muted:#6b7280;
  --text-dark:#0b1221;
  --bg-about:#0f1e52; 
  --calendar-blue: #1652ff; 
  /* Neumorphism Colors */
  --neu-bg: #e0e5ec;
  --neu-shadow-light: #ffffff;
  --neu-shadow-dark: #a3b1c6;
}
*{box-sizing:border-box;margin:0;padding:0}
html { scroll-behavior: smooth; }
body{
  font-family:"Inter",sans-serif;
  background:linear-gradient(180deg,var(--bg-1),var(--bg-2));
  background-attachment: fixed; 
  background-size: cover;
  color:var(--text-dark);
  overflow-x:hidden;
  min-height: 100vh;
}

/* NAV */
.nav{
  position:fixed;top:20px;left:24px;z-index:50;
  display:flex;gap:12px;align-items:center;
  background:rgba(255,255,255,0.6);backdrop-filter:blur(6px);
  padding:10px 14px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.05);
  cursor: pointer;
  transition: transform 0.2s ease;
}
.nav:active { transform: scale(0.95); }
.logo-mark{
  width:36px;height:36px;border-radius:10px;
  background:linear-gradient(135deg,var(--accent),#3ea0ff);
  display:flex;align-items:center;justify-content:center;
  color:white;font-weight:700;font-family:"Playfair Display";
}

/* PAGE TRANSITIONS */
.page{
  position:absolute; 
  top: 0; left: 0; width: 100%;
  height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;
  box-sizing: border-box;
  opacity:0;
  pointer-events:none;
  transition:opacity .8s cubic-bezier(0.25, 1, 0.5, 1), transform .8s cubic-bezier(0.25, 1, 0.5, 1);
  padding-top:80px;
  transform: translateY(20px); 
  background: transparent;
}
.page.active{opacity:1;pointer-events:auto;transform:translateY(0);}

/* HOME PAGE STYLING */
#home.page { padding-top: 0; }

/* LANDING SECTION */
.landing-section {
    height: 100vh;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: url('background.jpg/Promed.JPG') no-repeat center center;
    background-size: cover;
    position: relative;
    overflow: hidden;
}

.landing-content {
    position: relative;
    z-index: 10;
    text-align: center;
    color: white;
    max-width: 600px;
    padding: 50px;
    background: transparent;
    border: none;
    border-radius: 40px;
    backdrop-filter: none;
    box-shadow: none;
    animation: fadeIn 1.2s ease-out;
}
@keyframes fadeIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

/* TOMBOL JELAJAHI SEKARANG (UPDATED: WHITE GLOW) */
.explore-btn {
    background: var(--accent-2); /* KUNING */
    color: white;                /* PUTIH */
    border: none;
    padding: 18px 40px;
    border-radius: 50px;
    font-size: 18px;
    font-weight: 600;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 12px;
    /* UPDATE: Shadow jadi PUTIH */
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.6), 0 0 0 4px rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
}
.explore-btn:hover {
    transform: scale(1.05);
    /* UPDATE: Hover Shadow jadi PUTIH lebih terang */
    box-shadow: 0 0 40px rgba(255, 255, 255, 0.9), 0 0 0 6px rgba(255, 255, 255, 0.4);
    background: #ffc107; /* Kuning sedikit gelap saat hover */
}
.explore-btn i { transition: transform 0.3s; }
.explore-btn:hover i { transform: translateX(5px); }

/* ROADMAP SECTION */
.roadmap-section {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 80px 20px;
    background: transparent; 
}
.roadmap-section h1 { font-family:"Bricolage Grotesque"; font-size:52px; color:#041735; margin:0; }
.roadmap-section span { color:var(--accent-2); }
.roadmap-section p { margin-top:16px; font-size:18px; color:var(--text-dark); }

/* ROADMAP BUTTONS & ICONS (SVG Styles) */
.roadmap { position: relative; width: 90%; max-width: 1000px; height: 400px; margin: 60px auto 0; overflow: visible; display: flex; justify-content: space-around; align-items: center; }
.roadmap-svg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
.roadmap-path { fill: none; stroke: var(--accent); stroke-width: 40; stroke-linecap: round; stroke-linejoin: round; }
.roadmap-dashed-outline { fill: none; stroke: var(--accent-2); stroke-width: 2; stroke-dasharray: 8 8; stroke-linecap: round; transform: translate(2px, 2px); }
.arrowhead { fill: var(--accent); }
.road-step-wrapper { position: absolute; z-index: 10; display: flex; flex-direction: column; align-items: center; text-align: center; transform: translate(-50%, -50%); }
.road-step-wrapper:nth-child(2) { top: 38%; left: 10%; } 
.road-step-wrapper:nth-child(3) { top: 25%; left: 30%; } 
.road-step-wrapper:nth-child(4) { top: 40%; left: 50%; } 
.road-step-wrapper:nth-child(5) { top: 25%; left: 70%; } 
.road-step-wrapper:nth-child(6) { top: 40%; left: 90%; } 

.road-icon { 
    width: 55px; 
    height: 55px; 
    border-radius: 50%; 
    background-color: var(--accent-2); 
    border: 4px solid white; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    color: var(--accent); 
    font-size: 22px; 
    box-shadow: 0 0 0 5px rgba(255, 255, 255, 0.7), 0 2px 5px rgba(0,0,0,0.2); 
    margin-bottom: 8px; 
    transition: transform .3s; 
    cursor: pointer; 
}
.road-icon:hover {
    transform: scale(1.1); 
}

div.step { 
  background: var(--accent); 
  color: white; 
  padding: 8px 15px; 
  border-radius: 8px; 
  font-weight: 600; 
  cursor: pointer; 
  box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
  white-space: nowrap; 
  font-size: 14px; 
  transition: transform .3s, box-shadow .3s, background .3s; 
}
div.step.active { background: var(--accent); box-shadow: 0 8px 15px rgba(22,82,255,0.4); transform: scale(1.05); }
div.step:hover:not(.active) { transform: scale(1.03); box-shadow: 0 6px 12px rgba(22,82,255,0.3); }

button.step {
    background: var(--accent);
    color: white;
    border: none;
    padding: 15px 35px;
    border-radius: 50px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    box-shadow: 0 0 20px rgba(22, 82, 255, 0.6), 0 0 0 4px rgba(22, 82, 255, 0.2);
    transition: all 0.3s ease;
}
button.step:hover {
    transform: scale(1.05);
    box-shadow: 0 0 40px rgba(22, 82, 255, 0.9), 0 0 0 6px rgba(22, 82, 255, 0.4);
    background: #306aff;
}

/* --- CALENDAR, ABOUT, ETC --- */
#calendar {
    background-color: var(--neu-bg);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    padding: 100px 20px 40px;
    min-height: auto;
    height: fit-content;
}
.neu-calendar-container {
    position: relative;
    width: 95%;
    max-width: 900px;
    min-height: auto;
    background: var(--neu-bg);
    border-radius: 30px;
    box-shadow: 20px 20px 60px var(--neu-shadow-dark), 
                -20px -20px 60px var(--neu-shadow-light);
    padding: 30px;
    display: flex;
    flex-direction: column;
}
.neu-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 0 10px; }
.neu-title-group h2 { font-family: "Bricolage Grotesque"; font-size: 2.2rem; color: var(--text-dark); margin: 0; }
.neu-title-group p { color: var(--muted); font-size: 1rem; }
.neu-nav-btn { width: 40px; height: 40px; border-radius: 50%; border: none; background: var(--neu-bg); color: var(--text-dark); font-size: 1rem; cursor: pointer; margin-left: 10px; box-shadow: 5px 5px 10px var(--neu-shadow-dark), -5px -5px 10px var(--neu-shadow-light); transition: all 0.2s ease; display: inline-flex; align-items: center; justify-content: center; }
.neu-nav-btn:hover { transform: translateY(-2px); }
.neu-nav-btn:active { box-shadow: inset 5px 5px 10px var(--neu-shadow-dark), inset -5px -5px 10px var(--neu-shadow-light); transform: translateY(0); }
.neu-grid-header { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; margin-bottom: 15px; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; font-size: 0.9rem; }
.neu-grid-dates { display: grid; grid-template-columns: repeat(7, 1fr); gap: 15px; flex-grow: 1; }
.neu-date-cell { background: var(--neu-bg); border-radius: 15px; min-height: 70px; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding-top: 10px; font-size: 1rem; font-weight: 600; color: var(--text-dark); position: relative; cursor: default; transition: all 0.3s ease; }
.neu-date-cell:not(.inactive):hover { box-shadow: 5px 5px 10px var(--neu-shadow-dark), -5px -5px 10px var(--neu-shadow-light); transform: scale(1.02); z-index: 5; }
.neu-date-cell.inactive { opacity: 0.3; }
.neu-event-dot { width: 8px; height: 8px; background-color: var(--accent); border-radius: 50%; margin-top: 5px; box-shadow: 0 0 10px rgba(22, 82, 255, 0.5); display: none; }
.neu-date-cell.has-event { cursor: pointer; border: 2px solid transparent; }
.neu-date-cell.has-event .neu-event-dot { display: block; }
.neu-date-cell.has-event:hover { border-color: var(--accent); }
.event-popup { position: absolute; bottom: 110%; left: 50%; transform: translateX(-50%) translateY(10px); background-color: var(--text-dark); color: white; padding: 6px 12px; border-radius: 8px; font-size: 0.75rem; font-weight: 400; white-space: normal; width: max-content; max-width: 180px; text-align: center; pointer-events: none; opacity: 0; visibility: hidden; transition: all 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 100; box-shadow: 0 5px 15px rgba(0,0,0,0.2); line-height: 1.3; }
.event-popup::after { content: ''; position: absolute; top: 100%; left: 50%; margin-left: -5px; border-width: 5px; border-style: solid; border-color: var(--text-dark) transparent transparent transparent; }
.neu-date-cell.has-event:hover .event-popup { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }
.side-panel-trigger { position: absolute; left: -60px; top: 50%; transform: translateY(-50%); width: 50px; height: 80px; background: var(--neu-bg); border-radius: 0 15px 15px 0; box-shadow: 5px 5px 15px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 100; transition: left 0.3s; }
.side-panel-trigger i { color: var(--accent); font-size: 24px; animation: pointRight 1.5s infinite; }
@keyframes pointRight { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(5px); } }
.event-side-panel { position: absolute; top: 20px; bottom: 20px; left: -400px; width: 350px; background: var(--neu-bg); border-radius: 20px; box-shadow: 10px 0 30px rgba(0,0,0,0.2); z-index: 99; padding: 30px; transition: left 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); display: flex; flex-direction: column; }
.event-side-panel.open { left: 20px; }
.panel-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid rgba(0,0,0,0.05); }
.panel-header h3 { font-family: "Bricolage Grotesque"; font-size: 24px; color: var(--text-dark); }
.close-panel-btn { background: none; border: none; font-size: 24px; color: var(--muted); cursor: pointer; transition: color 0.2s; }
.close-panel-btn:hover { color: var(--accent); }
.panel-content { flex-grow: 1; overflow-y: auto; }
.note-item { background: var(--neu-bg); padding: 15px; border-radius: 15px; margin-bottom: 15px; box-shadow: inset 3px 3px 7px var(--neu-shadow-dark), inset -3px -3px 7px var(--neu-shadow-light); }
.note-item h4 { color: var(--accent); margin-bottom: 5px; font-size: 18px; }
.note-item .meta { font-size: 12px; color: var(--muted); margin-bottom: 10px; font-weight: 600; }
.note-item p { font-size: 14px; color: var(--text-dark); line-height: 1.5; }

/* DETAIL PAGES GENERIC */
#event-detail, #work-detail, #promed-nav, #promed-about-detail, #promed-peminatan-detail, #peminatan-single-detail-temp, #dosen, #fasilitas, #full-roadmap {
    padding: 0 20px;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
}
.detail-card { max-width: 700px; width: 100%; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: left; margin-top: 30px; }
.detail-card h2 { font-family: "Bricolage Grotesque"; font-size: 36px; color: var(--accent); margin-bottom: 20px; text-align: center; }
#promed-nav .nav-icon-container { display: flex; justify-content: center; gap: 30px; margin-top: 40px; max-width: 800px; flex-wrap: wrap; }
#promed-nav .nav-item { cursor: pointer; text-align: center; transition: transform 0.3s, box-shadow 0.3s; width: 160px; padding: 20px; border-radius: 15px; background: white; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 1px solid #eee; }
#promed-nav .nav-item:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(22, 82, 255, 0.3); }
#promed-nav .nav-item i { font-size: 3rem; color: var(--accent); margin-bottom: 10px; }
#promed-nav .nav-item p { font-weight: 700; color: var(--text-dark); margin: 0; font-size: 14px; }

/* Peminatan */
#promed-peminatan-detail .detail-card { max-width: 1000px; }
#promed-peminatan-detail .peminatan-list { margin-top: 20px; width: 100%; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
#promed-peminatan-detail .peminatan-item-box { background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease-in-out; position: relative; overflow: hidden; cursor: pointer; }
#promed-peminatan-detail .peminatan-item-box:hover { transform: none; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
#promed-peminatan-detail .peminatan-item-box .content { padding: 15px; text-align: center; }
#promed-peminatan-detail .peminatan-item-box .image-placeholder { width: 100%; height: 120px; background: var(--accent-2); display: flex; align-items: center; justify-content: center; color: var(--text-dark); font-size: 14px; font-weight: 600; border-radius: 12px 12px 0 0; }
#promed-peminatan-detail .peminatan-item-box h4 { font-family: "Bricolage Grotesque"; font-size: 16px; color: var(--text-dark); margin-top: 0; margin-bottom: 5px; word-break: break-word; line-height: 1.2; }
#promed-peminatan-detail .peminatan-item-box .content p { display: none; }
#promed-peminatan-detail .peminatan-item-box .hover-popup { display: none !important; opacity: 0 !important; pointer-events: none !important; }

/* Dosen */
#dosen { padding: 0; }
.dosen-arch-wrapper { 
    width: 100%; 
    height: ; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
    /* UPDATED BACKGROUND TO BLUE GRADIENT (SAME AS ABOUT US) */
    background: linear-gradient(135deg, var(--bg-about) 0%, #2a4cb8 40%, #3b6aff 100%); 
    color: white; 
    padding: 40px 20px; 
    position: relative; 
    overflow: hidden; 
}
.dosen-arch-wrapper h2 { font-family: "Bricolage Grotesque"; font-size: 48px; margin-bottom: 10px; z-index: 10; text-align: center; }
.dosen-arch-wrapper p { color: rgba(255,255,255,0.6); margin-bottom: 20px; z-index: 10; font-size: 16px; text-align: center; max-width: 600px; }
.arch-scene { width: 100%; height: 500px; position: relative; display: flex; justify-content: center; align-items: center; margin-top: 20px; }
.arch-item { position: absolute; width: 120px; height: 160px; border-radius: 16px; cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease, z-index 0.3s; overflow: hidden; background: #222; box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1); will-change: transform, left, top; }
.arch-item:hover { transform: scale(1.5) !important; z-index: 999 !important; box-shadow: 0 20px 50px rgba(22, 82, 255, 0.6); border-color: var(--accent); }
.arch-item img { width: 100%; height: 100%; object-fit: cover; pointer-events: none; }
.scroll-indicator { position: absolute; bottom: 30px; animation: bounce 2s infinite; opacity: 0.7; font-size: 24px; cursor: pointer; }
@keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }
.dosen-grid-wrapper { padding: 20px 20px 80px; width: 100%; background: linear-gradient(180deg,var(--bg-1),var(--bg-2)); display: flex; flex-direction: column; align-items: center; }
.dosen-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 25px; max-width: 1200px; width: 100%; }
.dosen-card { background: white; padding: 15px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05); transition: transform 0.3s; cursor: pointer; overflow: hidden; text-align: center; border: 1px solid #ddd; display: flex; flex-direction: column; height: 100%; scroll-margin-top: 100px; }
.dosen-card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); }
.dosen-image-placeholder { width: 100%; height: 150px; background-color: var(--bg-about); border-radius: 8px; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: 600; }
.dosen-image-real { width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 10px; }
.dosen-card h4 { font-size: 16px; margin: 0; color: var(--text-dark); line-height: 1.2; word-break: break-word; }
.dosen-card p { font-size: 12px; color: var(--muted); margin-top: 4px; margin-bottom: 10px; }
.dosen-social-links { display: flex; justify-content: center; gap: 10px; margin-top: auto; align-items: center; padding-top: 10px; }
.dosen-social-links a { color: var(--muted); font-size: 1.2rem; transition: color 0.2s; display: flex; align-items: center; }
.dosen-social-links a:hover { color: var(--accent); }

/* --- FINAL CSS FASILITAS: MENTOK 1 LAYAR, GAMBAR PAS, TEKS ESTETIK --- */

/* 1. Kunci Halaman Agar Pas 1 Layar (Gak Bisa Scroll) */
#fasilitas {
    height: 100vh !important;           /* Tinggi paksa segede layar */
    min-height: 100vh !important;
    overflow: hidden !important;        /* Matikan scroll halaman */
    padding-top: 80px !important;       /* Jarak dari navbar */
    padding-bottom: 20px !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important; /* Konten otomatis ke tengah vertikal */
    align-items: center !important;     /* Konten otomatis ke tengah horizontal */
}

/* 2. Atur Kartu Wadahnya */
#fasilitas .facility-card {
    max-width: 900px !important;
    width: 90% !important;
    padding: 30px !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    /* Agar jika layar sangat pendek, konten dalam kartu tetap aman */
    max-height: 85vh !important;
    overflow-y: auto !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08) !important; /* Shadow lebih halus */
}

/* Judul Estetik */
#fasilitas h2 {
    font-family: "Bricolage Grotesque", sans-serif !important;
    font-size: 32px !important;
    color: var(--accent) !important;
    margin-bottom: 25px !important;
}

/* 3. GAMBAR DIBESARKAN DIKIT (Sesuai Request) */
#fasilitas img {
    height: 320px !important;           /* Ukuran fixed yang lebih besar dari sebelumnya */
    width: auto !important;             /* Lebar menyesuaikan agar tidak gepeng */
    max-width: 100% !important;
    object-fit: cover !important;
    border-radius: 20px !important;     /* Sudut lebih membulat */
    margin-bottom: 30px !important;     /* Jarak ke teks */
    box-shadow: 0 5px 15px rgba(0,0,0,0.1) !important;
}

/* 4. TEKS ESTETIK (Rata Kanan-Kiri & Spasi Lega) */
#fasilitas p {
    font-size: 16px !important;         /* Ukuran pas untuk dibaca */
    line-height: 1.8 !important;        /* Jarak antar baris lebih lega (estetik) */
    text-align: justify !important;     /* Rata kanan kiri */
    color: var(--text-dark) !important;
    margin-bottom: 0 !important;
    width: 95% !important;              /* Biar teks tidak terlalu mepet pinggir kartu */
}

/* 5. Tombol Kembali */
#fasilitas button.step {
    margin-top: 35px !important;        /* Jarak dari teks ke tombol */
    margin-bottom: 0 !important;
}

/* Details */
.detail-info { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
.detail-info p { margin-bottom: 10px; font-size: 16px; color: var(--text-dark); }
.detail-info strong { color: var(--text-dark); font-weight: 700; display: inline-block; min-width: 90px; }
.detail-description { line-height: 1.7; font-size: 16px; color: var(--text-dark); text-align: justify; }
.detail-description p { margin-bottom: 15px; }
.detail-description a { color: var(--accent); text-decoration: none; font-weight: 600; }
.detail-description a:hover { text-decoration: underline; }
.media-container { width: 100%; margin-top: 20px; margin-bottom: 20px; position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; background: #000; border-radius: 10px; }
.media-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
.work-detail-footer { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }
.work-detail-footer a { color: var(--accent); font-size: 1.2rem; text-decoration: none; transition: color 0.2s; display: flex; align-items: center; font-weight: 600; }
.work-detail-footer a:hover { color: var(--text-dark); }
.work-detail-footer a i { margin-right: 5px; font-size: 1.5rem; }

/* Testimoni */
#testimoni { background:linear-gradient(135deg,#12256d,#1f3fa9,#3973ff); color:white; padding:100px 0 150px; text-align:center; }
#testimoni h2 { font-family:"Playfair Display"; font-size:36px; margin-bottom:20px; text-shadow:0 4px 20px rgba(0,0,0,0.3); }
#testimoni p.sub { color:rgba(255,255,255,0.8); margin-bottom:60px; font-size:16px; }
.slider-3d-testimoni { display:flex; justify-content:center; align-items:center; perspective:1000px; position:relative; height:400px; overflow:hidden; }
.card-testi { position:absolute; width:320px; height:260px; background:rgba(255,255,255,0.1); border-radius:20px; border:1px solid rgba(255,255,255,0.2); backdrop-filter:blur(10px); box-shadow:0 10px 30px rgba(0,0,0,0.25); text-align:center; color:white; transform-style:preserve-3d; transition:transform 0.4s ease, box-shadow 0.4s ease, filter 0.4s ease; opacity:0.6; padding:20px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
/* REMOVED IMG STYLES AS IMG IS GONE */
.card-testi h3 {font-size:18px;margin-bottom:8px;}
.card-testi p { font-size:14px; color:rgba(255,255,255,0.85); font-style:italic; line-height:1.4; }

/* About */
#about { background:linear-gradient(135deg, var(--bg-about) 0%, #2a4cb8 40%, #3b6aff 100%); color:white; padding: 60px 20px 0; overflow: hidden; position: relative; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; }
#about h2{ font-family:"Playfair Display"; font-size:36px; text-align:center; margin-bottom:30px; text-shadow:0 4px 20px rgba(0,0,0,0.3); }
#about p{ text-align:center; color:rgba(255,255,255,0.8); max-width:700px; margin:0 auto 60px; }
.slider-3d { position: absolute; bottom: 100px; width: 100%; display:flex; justify-content:center; align-items:flex-end; perspective:1000px; flex-wrap: nowrap; overflow: hidden; height: 400px; padding-bottom: 50px; gap: 0px; }
.card { position:absolute; width:200px; height:300px; background: transparent; border: none; box-shadow: none; backdrop-filter: none; text-align:center; color:white; transform-style:preserve-3d; transition:transform 0.4s ease, left 0.4s ease, top 0.4s ease, z-index 0.4s ease; opacity:1; overflow: visible; transform-origin: bottom center; cursor: pointer; perspective: 1000px; }
.card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; }
.card:hover .card-inner { transform: rotateY(180deg) translateY(-20px); }
.card-front, .card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border-radius: 20px; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); backdrop-filter: blur(10px); box-shadow: 0 10px 30px rgba(0,0,0,0.25); display: flex; flex-direction: column; align-items: center; justify-content: flex-end; padding-bottom: 20px; }
.card-front::before { content: ''; position: absolute; bottom: -1px; left: 0; width: 100%; height: 30px; background: linear-gradient(135deg, var(--bg-about), #2a4cb8, #3b6aff); border-radius: 0 0 18px 18px; z-index: 20; }
.card-front img { width:100px; height:100px; border-radius:50%; object-fit:cover; margin-top:20px; margin-bottom: auto; border:3px solid rgba(255,255,255,0.6); }
.card-front h3 {margin:15px 0 8px;font-size:18px;}
.card-front p {color:rgba(255,255,255,0.75);font-size:14px;}
.card-back { transform: rotateY(180deg); background: linear-gradient(135deg, #1652ff, #0f1e52); color: white; justify-content: center; padding: 20px; }
.card-back p { font-size: 14px; line-height: 1.5; }
.card:nth-child(3) { left: 50%; transform: translateX(-50%) translateY(0) scale(1.1); z-index: 5; }
.card:nth-child(2) { left: 35%; transform: translateX(-50%) translateY(20px) scale(1.0); z-index: 4; }
.card:nth-child(1) { left: 20%; transform: translateX(-50%) translateY(40px) scale(0.9); z-index: 3; opacity: 0.8; }
.card:nth-child(4) { left: 65%; transform: translateX(-50%) translateY(20px) scale(1.0); z-index: 4; }
.card:nth-child(5) { left: 80%; transform: translateX(-50%) translateY(40px) scale(0.9); z-index: 3; opacity: 0.8; }

/* Karya */
#karya { padding: 80px 20px 150px; min-height: 100vh; display: flex; flex-direction: column; align-items: center; overflow-x: hidden; }
#karya h2 { font-family:"Bricolage Grotesque"; font-size: 40px; color: var(--text-dark); margin-bottom: 10px; }
#karya p { color: var(--muted); margin-bottom: 30px; }
.work-filter-tabs { display: flex; justify-content: center; margin-bottom: 30px; gap: 10px; }
.work-filter-tabs .tab-button { background: white; border: 2px solid var(--accent); color: var(--accent); padding: 8px 15px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; }
.work-filter-tabs .tab-button i { margin-right: 8px; }
.work-filter-tabs .tab-button.active { background: var(--accent); color: white; box-shadow: 0 4px 10px rgba(22, 82, 255, 0.3); transform: translateY(-2px); }
.gallery-container { position: relative; width: 100%; max-width: 1000px; margin: 0 auto; }
.works-list { display: flex; overflow-x: auto; scroll-behavior: smooth; scroll-snap-type: x mandatory; padding: 20px 0; gap: 20px; -ms-overflow-style: none; scrollbar-width: none; }
.works-list::-webkit-scrollbar { display: none; }
.work-card-wrapper { flex: 0 0 auto; scroll-snap-align: center; width: 200px; cursor: pointer; position: relative; transition: transform 0.3s ease; }
.work-card { width: 100%; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1); background-color: white; transition: box-shadow 0.3s ease; }
.work-card-image { width: 100%; height: 280px; background: transparent; display: flex; align-items: center; justify-content: center; color: var(--text-dark); font-weight: 600; font-size: 14px; object-fit: cover; }
.work-card-caption { padding: 10px 8px; text-align: center; font-size: 14px; font-weight: 600; color: var(--text-dark); }
.nav-arrow { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(22, 82, 255, 0.7); color: white; border: none; padding: 10px 15px; border-radius: 50%; cursor: pointer; z-index: 20; font-size: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); transition: background 0.3s, opacity 0.3s; }
.nav-arrow:hover { background: var(--accent); }
.nav-arrow.left { left: 0; }
.nav-arrow.right { right: 0; }
.nav-arrow:disabled { opacity: 0.5; cursor: default; }
.work-card-wrapper:hover .work-card-info { opacity: 1; transform: translateY(0); }
.work-card-info { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-about); color: white; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; border-radius: 12px; opacity: 0; transform: translateY(10px); transition: opacity 0.3s ease, transform 0.3s ease; z-index: 10; text-align: center; }
.work-card-info h4 { margin-bottom: 5px; font-size: 16px; font-weight: 700; }
.work-card-info p { font-size: 12px; color: rgba(255, 255, 255, 0.8); margin-bottom: 5px; line-height: 1.3; }
.work-card-info p:last-child { margin-bottom: 0; font-style: italic; }
@media (min-width: 768px) {
  .work-card-wrapper { width: 220px; }
  .work-card-image { height: 300px; }
  .nav-arrow.left { left: -60px; }
  .nav-arrow.right { right: -60px; }
  .works-list { justify-content: space-between; scroll-snap-type: none; gap: 30px; }
  .work-card-wrapper { flex: 0 0 auto; }
}
#karya .step { margin-top: 60px; position: relative; z-index: 10; }

/* Choice Modal */
.modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(5px); z-index: 1000; align-items: center; justify-content: center; animation: fadeIn 0.3s; }
.modal-box { background: white; padding: 40px; border-radius: 20px; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.3); max-width: 400px; width: 90%; }
.modal-box h2 { font-family: "Bricolage Grotesque"; color: var(--accent); margin-bottom: 20px; }
.modal-btn { display: block; width: 100%; padding: 12px; margin: 10px 0; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; transition: transform 0.2s; }
.btn-primary { background: var(--accent); color: white; }
.btn-secondary { background: #eee; color: var(--text-dark); }
.modal-btn:hover { transform: scale(1.03); }

/* RETRO METAL SPIN WHEEL UI */
.spin-ui { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, #2a2a2a 0%, #000000 100%), url('https://www.transparenttextures.com/patterns/brushed-alum.png'); background-blend-mode: multiply; z-index: 1100; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
.spin-ui h2 { color: white; font-family: 'Playfair Display', serif; font-size: 36px; margin-bottom: 30px; text-shadow: 0 2px 4px rgba(0,0,0,0.5); letter-spacing: 1px; }
.retro-metal-frame { width: 100%; max-width: 800px; height: 400px; background: linear-gradient(to bottom, #dcdcdc 0%, #f0f0f0 15%, #a0a0a0 50%, #e0e0e0 85%, #c0c0c0 100%); border-radius: 50px; padding: 20px; display: flex; gap: 15px; position: relative; box-shadow: inset 0 0 10px rgba(255,255,255,0.8), inset 0 0 30px rgba(0,0,0,0.5), 0 15px 30px rgba(0,0,0,0.6), 0 0 0 5px #555; border: 2px solid #ddd; }
.screen-container { flex: 1; background: #111; border-radius: 35px; box-shadow: inset 0 10px 20px rgba(255,255,255,0.15), inset 0 -10px 20px rgba(0,0,0,0.8), inset 10px 0 20px rgba(0,0,0,0.8), inset -10px 0 20px rgba(0,0,0,0.8), 0 0 0 3px #444; border: 2px solid #222; overflow: hidden; position: relative; display: flex; align-items: center; justify-content: center; }
.screen-left { padding: 20px; }
.screen-left img { width: 180px; height: 180px; object-fit: cover; border-radius: 12px; border: 3px solid rgba(255,255,255,0.8); box-shadow: 0 10px 30px rgba(0,0,0,0.7); }
.screen-right { flex-direction: column; text-align: center; padding: 30px; color: #eee; }
.screen-right h2 { font-family: 'Playfair Display', serif; font-size: 28px; margin-bottom: 10px; color: #fff; text-shadow: 0 2px 4px rgba(0,0,0,0.8); }
.screen-right h3 { font-family: 'Playfair Display', serif; font-size: 20px; margin-bottom: 20px; color: #ddd; font-weight: 400; }
.screen-right p { font-size: 14px; color: #aaa; font-family: 'Inter', sans-serif; }
.small-controls { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); background: linear-gradient(to bottom, #ccc, #999); padding: 5px 15px; border-radius: 20px; display: flex; gap: 15px; box-shadow: inset 0 2px 5px rgba(255,255,255,0.6), inset 0 -2px 5px rgba(0,0,0,0.4), 0 2px 5px rgba(0,0,0,0.5); }
.small-control-btn { width: 15px; height: 15px; background: #666; border-radius: 50%; box-shadow: inset 0 2px 3px rgba(0,0,0,0.5), 0 1px 1px rgba(255,255,255,0.4); }
.small-control-btn.red { background: #a00; }
.big-metal-button { position: absolute; bottom: -20px; right: 50px; width: 90px; height: 90px; border-radius: 50%; background: radial-gradient(circle at center, #f0f0f0 0%, #d0d0d0 30%, #a0a0a0 60%, #707070 100%); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: inset 0 0 10px rgba(255,255,255,0.8), inset 0 0 20px rgba(0,0,0,0.5), 0 10px 20px rgba(0,0,0,0.6), 0 0 0 5px #e0e0e0, 0 0 0 6px #888; transition: transform 0.1s; z-index: 10; }
.big-metal-button i { font-size: 36px; color: #333; text-shadow: 0 1px 1px rgba(255,255,255,0.5); }
.big-metal-button:active { transform: translateY(2px) scale(0.98); box-shadow: inset 0 0 15px rgba(0,0,0,0.6), 0 5px 10px rgba(0,0,0,0.5), 0 0 0 5px #ccc, 0 0 0 6px #666; }
.big-metal-button:disabled { opacity: 0.8; cursor: not-allowed; }
.close-spin { position: absolute; top: 30px; right: 30px; color: white; font-size: 24px; cursor: pointer; z-index: 1200; background: rgba(255,255,255,0.1); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: background 0.2s; }
.close-spin:hover { background: rgba(255,255,255,0.3); }

/* LOCATION SECTION */
#location-section { padding: 80px 20px; width: 100%; display: flex; flex-direction: column; align-items: center; text-align: center; margin-bottom: 40px; }
#location-section h2 { font-family: "Bricolage Grotesque"; font-size: 40px; color: var(--text-dark); margin-bottom: 10px; }
#location-section p { color: var(--muted); margin-bottom: 30px; font-size: 16px; max-width: 600px; }
.map-wrapper { width: 100%; max-width: 1000px; height: 450px; background: white; padding: 10px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); overflow: hidden; }
.map-wrapper iframe { width: 100%; height: 100%; border: none; border-radius: 15px; }

/* Responsive */
@media (max-width: 768px) {
  #about { min-height: 500px; }
  .slider-3d { bottom: -30px; height: 350px; padding-bottom: 30px; }
  .card { width: 150px; height: 250px; border-radius: 15px; }
  .card:nth-child(3) { transform: translateX(-50%) translateY(0) scale(1.1); }
  .card:nth-child(2) { left: 30%; transform: translateX(-50%) translateY(15px) scale(0.95); }
  .card:nth-child(1) { left: 15%; transform: translateX(-50%) translateY(30px) scale(0.85); opacity: 0.7; }
  .card:nth-child(4) { left: 70%; transform: translateX(-50%) translateY(15px) scale(0.95); }
  .card:nth-child(5) { left: 85%; transform: translateX(-50%) translateY(30px) scale(0.85); opacity: 0.7; }
  .card-front img { width: 80px; height: 80px; }
  .card-front::before { height: 20px; border-radius: 0 0 15px 15px; }
  .retro-metal-frame { flex-direction: column; height: auto; border-radius: 30px; }
  .screen-container { height: 200px; }
  .big-metal-button { bottom: -10px; right: 20px; width: 70px; height: 70px; }
  .big-metal-button i { font-size: 28px; }
  .neu-calendar-container { padding: 20px; height: auto; min-height: auto; }
  .neu-title-group h2 { font-size: 2rem; }
  .neu-date-cell { min-height: 60px; font-size: 1rem; }
  .neu-grid-header { font-size: 0.8rem; }
  .event-side-panel { width: 85%; left: -100%; }
  .side-panel-trigger { width: 40px; height: 60px; }
  /* Roadmap adjust for mobile */
  .roadmap { width: 100%; overflow: hidden; }
  .roadmap-svg { width: 1000px; } /* Force width to keep shape, user might need to scroll or scale */
}

/* === CSS UNTUK ICON RAHASIA & MODAL RAHASIA === */
.about-icon-trigger {
    position: absolute;
    bottom: 30px;
    width: 60px;
    height: 60px;
    background: rgba(255,255,255,0.1); /* Transparan awal */
    border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    cursor: pointer;
    z-index: 50;
    transition: transform 0.3s, background 0.3s, box-shadow 0.3s;
    border: 1px solid rgba(255,255,255,0.2);
}
.about-icon-trigger i {
    color: rgba(255,255,255,0.7);
    font-size: 24px;
}
.about-icon-trigger:hover { 
    transform: scale(1.1); 
    background: rgba(255,255,255,0.3); 
}
.about-icon-trigger.left { left: 30px; }
.about-icon-trigger.right { right: 30px; }

/* Status aktif (ketika diklik) */
.about-icon-trigger.clicked { 
    background: var(--accent-2); 
    box-shadow: 0 0 20px rgba(255, 210, 77, 0.6);
    border-color: var(--accent-2);
}
.about-icon-trigger.clicked i {
    color: var(--text-dark);
}

/* Modal khusus Easter Egg */
#easterEggModal .modal-box {
    background: white;
    max-width: 500px;
    border-top: 5px solid var(--accent);
}
#easterEggModal p {
    color: var(--text-dark);
    line-height: 1.6;
    margin-bottom: 20px;
}
#promed-peminatan-detail {
    justify-content: flex-start !important;
    padding-top: 130px !important;
    padding-bottom: 50px !important;
    height: auto !important;
    min-height: 100vh !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
}
#promed-peminatan-detail .peminatan-list {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)) !important;
    gap: 25px !important;
    width: 100% !important;
    max-width: 1000px !important;
    margin-top: 20px !important;
}
#promed-peminatan-detail .peminatan-item-box {
    background-color: var(--accent-2) !important;
    border-radius: 20px !important;
    height: 180px !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;
}
#promed-peminatan-detail .content p, 
#promed-peminatan-detail .hover-popup { display: none !important; }


/* 2. BENERIN FASILITAS (Tetap Sama: Mentok 1 Layar) */
#fasilitas {
    height: 100vh !important;
    min-height: 100vh !important;
    overflow: hidden !important;
    padding: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
}
#fasilitas .facility-card {
    max-width: 900px !important;
    width: 85% !important;
    padding: 30px !important;
    max-height: 80vh !important;
    overflow-y: auto !important;
    margin-top: 60px !important;
}
#fasilitas img {
    height: 220px !important;
    width: auto !important;
    max-width: 100% !important;
    object-fit: cover !important;
    border-radius: 15px !important;
    margin-bottom: 20px !important;
}
#fasilitas p {
    font-size: 16px !important;
    line-height: 1.6 !important;
    text-align: justify !important;
    margin-bottom: 0 !important;
}
#fasilitas button.step { margin-top: 20px !important; margin-bottom: 0 !important; }


/* 3. BENERIN GALERI KARYA (INI YANG DIUBAH JADI PORTRAIT) */
/* Lebar kartu dikecilin dikit biar proporsional sama tinggi portrait */
.work-card-wrapper { width: 240px !important; } 
.work-card { background-color: transparent !important; box-shadow: none !important; }

.work-card-image {
    width: 100% !important;
    /* KUNCINYA DI SINI: Diubah jadi 2 banding 3 (Ukuran Poster/Portrait) */
    aspect-ratio: 2 / 3 !important; 
    height: auto !important;
    background: transparent !important;
    display: flex !important;
    align-items: center;
    justify-content: center;
    border-radius: 12px !important;
    overflow: hidden !important;
}
.work-card-image img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important; /* Biar gambar kepotong rapi kalo rasionya beda dikit */
}

/* Update untuk layar laptop */
@media (min-width: 768px) {
    .work-card-wrapper { width: 260px !important; }
    .work-card-image { height: auto !important; } 
}
#promed-about-detail {
    position: fixed !important;  /* KUNCI MATI POSISI BIAR GAK GERAK */
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100vh !important;
    overflow: hidden !important; /* HILANGKAN SCROLL HALAMAN */
    padding: 0 !important;       /* RESET SEMUA JARAK */
    margin: 0 !important;
    z-index: 9999 !important;    /* Pastikan dia paling depan */
    
    /* Tengahin Konten */
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    background: linear-gradient(180deg,var(--bg-1),var(--bg-2)); /* Pastikan background ada */
}

/* Atur Tombol Kembali */
#promed-about-detail .step {
    margin: 0 0 20px 0 !important; /* Kasih jarak dikit ke bawah */
    flex-shrink: 0 !important;     /* Biar tombol gak gepeng */
}

/* Atur Kotak Putih Penjelasannya */
#promed-about-detail .detail-card {
    width: 90% !important;
    max-width: 800px !important;
    
    /* Ini kuncinya: Tinggi maksimal kotak cuma 70% layar */
    max-height: 70vh !important;   
    
    /* Kalau teks kepanjangan, scrollnya DI DALAM KOTAK, bukan di halaman */
    overflow-y: auto !important;   
    
    margin: 0 !important;
    box-sizing: border-box !important;
}
#calendar {
    height: 100vh !important;           /* Paksa tinggi pas 1 layar */
    min-height: 100vh !important;
    overflow: hidden !important;        /* MATIKAN SCROLL HALAMAN */
    padding: 0 !important;              /* Reset padding */
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important; /* Tengah Vertikal */
    align-items: center !important;     /* Tengah Horizontal */
    background-color: var(--neu-bg) !important; /* Warna background abu */
    position: fixed !important;         /* Kunci posisi biar ga lari */
    top: 0; left: 0; width: 100%;
    z-index: 100;
}

/* Atur Kotak Kalendernya */
#calendar .neu-calendar-container {
    width: 90% !important;
    max-width: 900px !important;
    
    /* Batasi tinggi kalender maksimal 80% layar */
    max-height: 80vh !important;        
    
    /* Kalau layar pendek bgt, scroll muncul DI DALAM kalender */
    overflow-y: auto !important;        
    
    margin: 0 !important;
    padding: 30px !important;
}

/* Atur Tombol Kembali */
#calendar button.step {
    margin-top: 20px !important;
    margin-bottom: 0 !important;
    transform: scale(0.9) !important;   /* Kecilin tombol dikit biar muat */
}
#fasilitas {
    position: fixed !important;     /* KUNCI POSISI BIAR GAK GERAK */
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100vh !important;       /* Tinggi pas 1 layar */
    overflow: hidden !important;    /* MATIKAN SCROLL HALAMAN */
    padding: 0 !important;          /* Reset jarak */
    z-index: 100 !important;
    
    /* Tengahin Konten */
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    
    /* Pastikan backgroundnya tetap ada (gradasi) */
    background: linear-gradient(180deg,var(--bg-1),var(--bg-2)) !important;
}

/* Atur Kotak Putihnya */
#fasilitas .facility-card {
    width: 85% !important;
    max-width: 900px !important;
    padding: 30px !important;
    
    /* Batasi tinggi kotak maksimal 75% layar */
    max-height: 75vh !important;    
    
    /* Kalau konten kepanjangan, scroll CUMA DI DALAM KOTAK */
    overflow-y: auto !important;    
    
    margin-top: 40px !important;    /* Jarak aman dari atas */
}

/* Atur Gambar Biar Gak Kegedean */
#fasilitas img {
    height: 25vh !important;        /* Tinggi gambar nyesuain layar (25%) */
    width: auto !important;
    max-width: 100% !important;
    object-fit: cover !important;
    border-radius: 15px !important;
    margin-bottom: 20px !important;
}

/* Atur Tombol Kembali */
#fasilitas button.step {
    margin-top: 20px !important;
    margin-bottom: 0 !important;
}
#promed-nav {
    position: fixed !important;     /* KUNCI POSISI BIAR GAK GERAK */
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100vh !important;       /* Tinggi pas 1 layar */
    overflow: hidden !important;    /* MATIKAN SCROLL */
    padding: 0 !important;          /* Reset jarak */
    z-index: 100 !important;
    
    /* Tengahin Konten */
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    
    /* Pastikan background tetap ada */
    background: linear-gradient(180deg,var(--bg-1),var(--bg-2)) !important;
}

/* Atur Judul biar gak terlalu nempel atas */
#promed-nav h2 {
    margin-top: 0 !important;
    margin-bottom: 10px !important;
}

/* Atur Jarak Icon Pilihan */
#promed-nav .nav-icon-container {
    margin-top: 30px !important;
    margin-bottom: 40px !important;
    display: flex !important;
    justify-content: center !important;
    flex-wrap: wrap !important;
    gap: 30px !important;
}

/* Atur Tombol Kembali */
#promed-nav button.step {
    margin-top: 0 !important;
}
#dosen {
    height: auto !important;        /* Tinggi bebas */
    min-height: 100vh !important;
    overflow-y: auto !important;    /* AKTIFKAN SCROLL */
    overflow-x: hidden !important;
    display: block !important;      /* Susun ke bawah */
    padding: 0 !important;
    background: none !important;
}

/* 2. BAGIAN ATAS: RODA PUTAR (Background Biru) */
.dosen-arch-wrapper {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    /* Background Biru Gradasi */
    background: linear-gradient(135deg, var(--bg-about) 0%, #2a4cb8 40%, #3b6aff 100%) !important;
    color: white !important;
    height: 100vh !important;       /* Full 1 Layar buat Roda */
    width: 100% !important;
    padding: 40px 20px !important;
    position: relative !important;
}

.dosen-arch-wrapper h2 {
    font-family: "Bricolage Grotesque", sans-serif !important;
    font-size: 48px !important;
    color: white !important;        /* Teks Putih */
    margin-bottom: 10px !important;
}
.dosen-arch-wrapper p {
    color: rgba(255,255,255,0.7) !important;
    font-size: 16px !important;
}

/* Munculkan Animasi Roda */
#dosen-arch-scene, .arch-scene {
    display: flex !important;
    width: 100% !important;
    height: 500px !important;
    margin-top: 20px !important;
}
.arch-item {
    display: block !important;      /* Pastikan kartu roda muncul */
}
.scroll-indicator {
    display: block !important;      /* Panah penunjuk scroll muncul */
    color: white !important;
}


/* 3. BAGIAN BAWAH: GRID FOTO DOSEN (Background Krem) */
.dosen-grid-wrapper {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    padding: 80px 20px 60px !important;
    /* Background Krem/Putih */
    background: linear-gradient(180deg,var(--bg-1),var(--bg-2)) !important;
    width: 100% !important;
    min-height: 100vh !important;
}

/* Judul Section Bawah */
.dosen-grid-wrapper h2 {
    display: block !important;
    color: var(--text-dark) !important;
    font-size: 36px !important;
    margin-bottom: 10px !important;
}
.dosen-grid-wrapper p {
    display: block !important;
    color: var(--muted) !important;
    margin-bottom: 40px !important;
}

/* Grid Kartu */
.dosen-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
    gap: 25px !important;
    width: 100% !important;
    max-width: 1200px !important;
}

/* Style Kartu Dosen */
.dosen-card {
    background: white !important;
    padding: 15px !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05) !important;
    text-align: center !important;
}
.dosen-image-real, .dosen-image-placeholder {
    height: 150px !important;
    margin-bottom: 10px !important;
}
.dosen-card h4 {
    color: var(--text-dark) !important;
    font-size: 16px !important;
}

/* Tombol Kembali */
.dosen-grid-wrapper .step {
    margin-top: 40px !important;
}
#karya {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100vh !important;       /* Pas 1 layar */
    overflow: hidden !important;    /* Gak bisa scroll */
    z-index: 100 !important;
    padding: 0 !important;
    
    /* Susun rapi ke tengah */
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    background: linear-gradient(180deg,var(--bg-1),var(--bg-2)) !important;
}

/* 1. Kecilin Judul & Rapatkan Jaraknya */
#karya h2 {
    font-size: 32px !important;
    margin-top: 50px !important;    /* Turunin dikit biar judul keliatan */
    margin-bottom: 5px !important;  /* Rapatkan ke bawah */
}
#karya p {
    font-size: 14px !important;
    margin-bottom: 15px !important; /* Jarak ke tombol filter */
}

/* 2. Rapatkan Tombol Filter */
.work-filter-tabs {
    margin-bottom: 20px !important;
}

/* 3. Trik Skala: Kecilin Area Kartu Dikit Biar Muat */
.gallery-container {
    width: 100% !important;
    max-width: 1200px !important;
    /* Zoom out dikit (90%) biar gak desak-desakan */
    transform: scale(0.9) !important; 
    transform-origin: center center !important;
    margin: 0 !important;
}

/* 4. Tombol Kembali */
#karya .step {
    margin-top: 10px !important;
    transform: scale(0.9) !important;
}
#karya {
    padding-bottom: 80px !important; /* Memberi ruang kosong di bawah */
    justify-content: center !important;
}

/* 2. Khusus Tombol Kembali di Galeri Karya */
#karya .step {
    margin-top: 10px !important;     /* Jarak dari gambar diperkecil */
    margin-bottom: 20px !important;  /* Jarak dari bibir bawah layar */
    transform: scale(0.9) translateY(-20px) !important; /* Trik paksa naik 20px */
}

/* 3. Kecilin dikit lagi area kartu biar muat tombolnya naik */
#karya .gallery-container {
    transform: scale(0.85) !important; /* Perkecil dikit lagi biar lega */
    margin-bottom: 0 !important;
}
</style>
</head>
<body>

<div id="musicChoiceModal" class="modal-overlay">
    <div class="modal-box">
        <h2>Galeri Musik</h2>
        <p>Bagaimana kamu ingin menjelajahi karya musik?</p>
        <button class="modal-btn btn-primary" onclick="startSpinUI()">Mau Spin! ðŸŽ²</button>
        <button class="modal-btn btn-secondary" onclick="showManualMusic()">Lihat Sendiri ðŸ‘€</button>
    </div>
</div>

<div id="easterEggModal" class="modal-overlay">
    <div class="modal-box">
        <h2>Behind PromedZone</h2>
        <p>
             Jujur aja, website ini lahir karena pengalaman ribet kita waktu SMA dulu. Coba deh, dulu cari info prodi itu effort-nya gede banget, informasinya nyebar, dan seringnya bikin bingung tujuh keliling mau ambil jurusan apa. Kita tuh ngerasa, kenapa sih nggak ada satu tempat yang kasih tahu semua detailnya dengan enak? Nah, makanya kita bikin website ini. Intinya, biar adik-adik SMA sekarang nggak perlu pusing kayak kita dulu, semua info prodi yang kamu butuhkan sudah ada di sini, tinggal scroll dan pilih yang paling cocok buat kamu!

            
        </p>
        <p style="font-style: italic; font-size: 14px; color: var(--muted);">Terima kasih telah menemukan pesan tersembunyi ini!</p>
        <button class="modal-btn btn-primary" onclick="closeEasterEgg()">Tutup</button>
    </div>
</div>

<div id="spinWheelOverlay" class="spin-ui">
    <div class="close-spin" onclick="closeSpinUI()"><i class="fas fa-times"></i></div>
       
    <h2>Spin The Music!</h2>
       
    <div class="retro-metal-frame">
        
        <div class="screen-container screen-left" id="spinScreenLeft">
            <img src="https://via.placeholder.com/180/333/fff?text=MUSIC" alt="Placeholder">
        </div>

        <div class="screen-container screen-right" id="spinScreenRight">
             <h2>Ready?</h2>
             <h3>Tekan Tombol Play</h3>
             <p>---</p>
        </div>

        <div class="small-controls">
            <div class="small-control-btn"></div>
            <div class="small-control-btn"></div>
            <div class="small-control-btn red"></div>
            <div class="small-control-btn"></div>
        </div>

        <button id="btnSpinTrigger" class="big-metal-button" onclick="spinTheWheel()">
            <i class="fas fa-play"></i>
        </button>

    </div>
</div>

<div class="nav" onclick="returnToRoadmap()">
  <div class="logo-mark">PZ</div>
  <div><strong>PromedZone</strong></div>
</div>

<div id="home" class="page active">
       
  <div class="landing-section">
       
      <div class="landing-content">
          <button class="explore-btn" onclick="scrollToRoadmap()">
              Jelajahi Sekarang <i class="fas fa-arrow-right"></i>
          </button>
      </div>

  </div>

  <div id="roadmap-section" class="roadmap-section">
        <h1>Peta Penjelajahan <span>PromedZone</span></h1>
        <p>Klik pada titik di bawah ini untuk memulai eksplorasi!</p>

        <div class="roadmap" id="heroRoadmap">
            <svg class="roadmap-svg" viewBox="0 0 1000 400" preserveAspectRatio="xMidYMid meet">
                <path class="roadmap-path" 
                      d="M 100 150 
                         C 150 50, 250 50, 300 150 
                         S 450 250, 500 150 
                         C 550 50, 650 50, 700 150
                         S 850 250, 900 150" />
             
                <path class="roadmap-dashed-outline" 
                      d="M 100 150 
                         C 150 50, 250 50, 300 150 
                         S 450 250, 500 150 
                         C 550 50, 650 50, 700 150
                         S 850 250, 900 150" />

                <polygon class="arrowhead" points="900,150 915,140 915,160" />
            </svg>
              
            <div class="road-step-wrapper">
              <div class="road-icon" data-page="promed-nav"><i class="fas fa-info"></i></div>
              <div class="step active" data-page="promed-nav">Tentang Promed & Peminatan</div>
            </div>

            <div class="road-step-wrapper">
              <div class="road-icon" data-page="dosen"><i class="fas fa-lightbulb"></i></div>
              <div class="step" data-page="dosen">Profil Dosen</div>
            </div>

            <div class="road-step-wrapper">
              <div class="road-icon" data-page="calendar"><i class="fas fa-trophy"></i></div>
              <div class="step" data-page="calendar">Event & Kompetisi</div>
            </div>

            <div class="road-step-wrapper">
              <div class="road-icon" data-page="fasilitas"><i class="fas fa-bullseye"></i></div>
              <div class="step" data-page="fasilitas">Fasilitas</div>
            </div>

            <div class="road-step-wrapper">
              <div class="road-icon" data-page="karya"><i class="fas fa-magnet"></i></div>
              <div class="step" data-page="karya">Galeri Karya</div>
            </div>
        </div>
  </div>

  <div id="testimoni">
    <h2>Menurut sobat promates, Promed itu gimana?</h2>
    <p class="sub"></p>
    <div class="slider-3d-testimoni" id="sliderTesti">
      <div class="card-testi active"><h3>Alvin, Promed 24</h3><p>"Di jurusan ini cocok untuk orang yang mau explore banyak hal dan "nyemplung" ke industri kreatif"."</p></div>
      <div class="card-testi"><h3>Rafa Rifdah, Promed 24</h3><p>"Very seru, challenging, hectic but worthit kokkkk!!!."</p></div>
      <div class="card-testi"><h3>Rara, Promed 24</h3><p>"kesan aku buat promed kurang lebih selama 3 semester ini seru siihh bener bener diajarin banyak hal dan nambah pengalaman karena kita diajarin segala macemnyaa disini."</p></div>
      <div class="card-testi"><h3>Irfan, Promed 24</h3><p>"kayak kinderjoy aja, banyak kejutannya."</p></div>
      <div class="card-testi"><h3>Belva Navashabila, Promed 21</h3><p>"Menjadi bagian dari promed itu salah satu fase terbaik di hidup aku. Dimulai dari berkesempataan kuliah di Rusia, pengalaman itu sangat challenging dan new experience banget."</p></div>
    </div>
  </div>

  <div id="location-section">
      <h2>Lokasi Kampus</h2>
      <p>Kunjungi kami di Program Pendidikan Vokasi Universitas Indonesia.</p>
      <div class="map-wrapper">
        <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3965.263764638683!2d106.829461314769!3d-6.359907995398048!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69ec189231230b%3A0x53096b65112c3e11!2sProgram%20Pendidikan%20Vokasi%20Universitas%20Indonesia!5e0!3m2!1sen!2sid!4v1636344567890!5m2!1sen!2sid" 
            allowfullscreen="" 
            loading="lazy">
        </iframe>
      </div>
  </div>

  <div id="about">
    <h2>About Us</h2>
    <p>Tim di balik PromedZone terdiri dari individu kreatif yang berfokus pada pengembangan media dan teknologi digital.</p>
    
    <div class="about-icon-trigger right" id="iconRight" onclick="openAboutModal()">
         <i class="fas fa-question"></i>
    </div>

    <div class="slider-3d" id="aboutCards">
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <img src="background.jpg/Untitled design - 5.JPG">
                    <h3>Sofia</h3>
                    <p>Developer</p>
                </div>
                <div class="card-back">
                    <p>Gua Developer, of course gua yang selalu dikirimin pesan 'Tolong bikinin dong, elu kan jago'.</p>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <img src="background.jpg/Untitled design - 3.JPG">
                    <h3>Nabila</h3>
                    <p>Developer</p>
                </div>
                <div class="card-back">
                    <p>Gua Developer, of course gua prefer komunikasi lewat chat daripada meeting.</p>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <img src="background.jpg/Untitled design - 6.JPG">
                    <h3>Janyce</h3>
                    <p>Project Manager</p>
                </div>
                <div class="card-back">
                    <p>Gua PM, of course gua yang harus chat kalian jam 2 pagi cuma buat nanya, 'udah kelar apa belum'.</p>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <img src="background.jpg/Untitled design - 7.JPG">
                    <h3>Kirana</h3>
                    <p>Developer</p>
                </div>
                <div class="card-back">
                    <p>Gua Developer di kelompok, of course gua yang selalu bilang 'Bahan kita sudah lengkap, tinggal dirangkum'.</p>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <img src="background.jpg/Untitled design - 4.JPG">
                    <h3>Mayske</h3>
                    <p>Developer</p>
                </div>
                <div class="card-back">
                    <p>Gua Developer di kelompok, of course gue yang tugasnya nge-review hasilnya, sambil bilang 'oke, fix ini udah bagus'.</p>
                </div>
            </div>
        </div>
    </div>
  </div>

</div>

<div id="promed-nav" class="page">
    <h2>Informasi Program Studi</h2>
    <p>Pilih kategori informasi yang ingin Anda lihat.</p>
    <div class="nav-icon-container">
        <div class="nav-item" data-page="promed-about-detail">
            <i class="fas fa-school"></i>
            <p>Apa itu Promed?</p>
        </div>
        <div class="nav-item" data-page="promed-peminatan-detail">
            <i class="fas fa-users"></i>
            <p>Peminatan</p>
        </div>
    </div>
    <button class="step" data-page="home" style="margin-top: 40px;">Kembali ke Home</button>
</div>

<div id="promed-about-detail" class="page">
    <button class="step" data-page="promed-nav" style="margin-top: 0; align-self: center;">Kembali ke Pilihan</button>
    <div class="detail-card">
        <h2 id="promedAboutTitle">Apa itu Produksi Media?</h2>
        <div class="detail-description">
            <p>Produksi Media merupakan program sarjana terapan (D4) Produksi Media bertujuan mencetak profesional industri kreatif yang beretika dan mampu memanfaatkan TIK secara inovatif. Pembelajaran berlandaskan lima pilar Arts, Business, Communication, Science, dan Technology untuk membangun wawasan global, kreativitas, dan kemampuan berinovasi melalui berbagai platform media dan teknologi baru.</p>
            <p>Sebagai program vokasi, fokusnya adalah membekali mahasiswa dengan pengetahuan dan keterampilan praktis untuk menghasilkan karya kreatif di bidang produksi media, seperti konten digital, game, animasi, e-sports, iklan, desain visual, audio, komik, film, musik, fotografi, streaming, dan media massa lainnya.</p>
        </div>
    </div>
</div>

<div id="promed-peminatan-detail" class="page">
    <button class="step" data-page="promed-nav" style="margin-top: 0; align-self: center;">Kembali ke Pilihan</button>
    <div class="detail-card" style="max-width: 1000px;">
        <h2 id="peminatanTitle">Peminatan/Studio di Produksi Media</h2>
        <div class="peminatan-list" id="peminatanList">
            </div>
    </div>
</div>
<div id="peminatan-single-detail-temp" class="page">
    </div>

<div id="dosen" class="page">
    <div class="dosen-arch-wrapper">
        <h2>Profil Dosen Promed</h2>
        <p></p>
        <div class="arch-scene" id="dosen-arch-scene">
            </div>
        <div class="scroll-indicator" onclick="document.getElementById('dosenGrid').scrollIntoView({behavior:'smooth'})"><i class="fas fa-chevron-down"></i></div>
    </div>

    <div class="dosen-grid-wrapper">
        <h2></h2>
        <p></p>
        <div class="dosen-grid" id="dosenGrid">
            </div>
        <button class="step" data-page="home" style="margin-top: 40px;">Kembali ke Home</button>
    </div>
</div>

<div id="fasilitas" class="page">
    <div class="facility-card">
        <h2>Fasilitas Produksi Media</h2>
           
        <img src="fotoposter.jpg/ddb30fb2-7145-4847-ae0b-c36b96cf0340.JPG" alt="Fasilitas Promed" style="width: 100%; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
           
        <p>
            POLAR LAB (Laboratorium Produksi Media dan Teaching Factory) adalah laboratorium milik Program Studi Produksi Media yang berfungsi sebagai pusat penelitian dan produksi media, sekaligus sebagai teaching factory untuk mendukung pengembangan bakat, minat, dan pembelajaran mahasiswa di berbagai bidang, seperti game development, animasi, jurnalisme digital, dan produksi media lainnya.
        </p>
    </div>
    <button class="step" data-page="home">Kembali</button>
</div>

<div id="calendar" class="page">
       
    <div class="neu-calendar-container">
        
        <div class="side-panel-trigger" onclick="toggleSidePanel()">
            <i class="fas fa-chevron-right"></i>
        </div>

        <div id="eventSidePanel" class="event-side-panel">
            <div class="panel-header">
                <h3>Detail Kegiatan</h3>
                <button class="close-panel-btn" onclick="closeSidePanel()"><i class="fas fa-times"></i></button>
            </div>
            <div class="panel-content" id="sidePanelContent">
                <p style="color:var(--muted);">Pilih tanggal atau klik icon segitiga untuk melihat agenda.</p>
            </div>
        </div>

        <div class="neu-header">
            <div class="neu-title-group">
                <h2 id="neuMonthYear">November 2025</h2>
                <p>Events & Schedule</p>
            </div>
            <div class="neu-nav-group">
                <button class="neu-nav-btn" id="neuPrevMonth"><i class="fas fa-chevron-left"></i></button>
                <button class="neu-nav-btn" id="neuNextMonth"><i class="fas fa-chevron-right"></i></button>
            </div>
        </div>

        <div class="neu-grid-header">
            <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
        </div>
        <div class="neu-grid-dates" id="neuCalendarGrid">
            </div>
        
    </div>

    <button class="step" data-page="home" style="margin-top: 30px;">Kembali ke Home</button>
</div>

<div id="event-detail" class="page">
    <div class="detail-card">
        <h2 id="detailTitle">Judul Acara</h2>
           
        <div class="detail-info">
            <p><strong>Tanggal</strong>: <span id="detailDate"></span></p>
            <p><strong>Tempat</strong>: <span id="detailPlace"></span></p>
            <p><strong>Penyelenggara</strong>: <span id="detailOrganizer"></span></p>
        </div>
           
        <div class="detail-description">
            <p id="detailDescription"></p>
            <p>Info lebih lanjut: <a href="#" id="detailIgLink" target="_blank"><i class="fab fa-instagram"></i> <span id="detailIgName"></span></a></p>
        </div>
    </div>
    <button class="step" data-page="calendar" style="margin-top: 40px;">Kembali ke Kalender</button>
</div>

<div id="karya" class="page">
    <h2>Galeri Karya</h2>
    <p>Film pendek, animasi, dan game edukatif karya mahasiswa.</p>
       
    <div class="work-filter-tabs">
        <div class="tab-button active" data-filter="all" id="allTab"><i class="fas fa-layer-group"></i> Semua</div>
        <div class="tab-button" data-filter="game" id="gameTab"><i class="fas fa-gamepad"></i> Game</div>
        <div class="tab-button" data-filter="film" id="filmTab"><i class="fas fa-video"></i> Film</div>
        <div class="tab-button" data-filter="music" id="musicTab"><i class="fas fa-music"></i> Musik</div>
    </div>
    <div class="gallery-container">
        <button class="nav-arrow left" id="scrollLeft"><i class="fas fa-chevron-left"></i></button>

        <div class="works-list" id="worksList">
            </div>

        <button class="nav-arrow right" id="scrollRight"><i class="fas fa-chevron-right"></i></button>
    </div>
       
    <button class="step" data-page="home">Kembali ke Home</button>
</div>

<div id="work-detail" class="page">
    <div class="detail-card">
        <h2 id="workDetailTitle">Judul Karya</h2>
           
        <div id="workMediaContainer" class="media-container">
            </div>
           
        <div class="detail-info">
            <p><strong>Kategori</strong>: <span id="workDetailCategory"></span></p>
            <p><strong>Status</strong>: <span id="workDetailStatus"></span></p>
        </div>
           
        <div class="detail-description">
            <p id="workDetailDescription"></p>
        </div>

        <div class="work-detail-footer" id="workDetailFooter">
            </div>
    </div>
    <button class="step" data-page="karya" style="margin-top: 40px;">Kembali ke Galeri</button>
</div>

<script>
// NAVIGASI HALAMAN & SLIDER
const pages = document.querySelectorAll(".page");
const roadmapButtons = document.querySelectorAll(".step, .road-icon, .btn-lihat-peta");

// FUNGSI BARU: Scroll ke Roadmap
function scrollToRoadmap() {
    document.getElementById('roadmap-section').scrollIntoView({behavior: 'smooth'});
}

// FUNGSI BARU: Kembali ke Roadmap via Navbar
function returnToRoadmap() {
    navigateToPage('home');
    setTimeout(() => {
        document.getElementById('roadmap-section').scrollIntoView({behavior: 'smooth'});
    }, 100);
}

function navigateToPage(targetPage, itemId = null) {
    // Hide all pages
    document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
       
    // Stop media playback saat pindah halaman
    stopMediaPlayback();

    const targetElement = document.getElementById(targetPage);
    if (targetElement) {
        targetElement.classList.add("active");
        window.scrollTo({top: 0, behavior: "smooth"});
    }

    if (targetPage === 'event-detail' && itemId) {
        showEventDetail(itemId);
    } else if (targetPage === 'work-detail' && itemId) {
        showWorkDetail(itemId);
    }
       
    if (targetPage === 'promed-peminatan-detail') {
        renderPeminatanListDetail();
    }
    if (targetPage === 'dosen') {
        renderDosenGrid();
    }

    // Update active state di roadmap
    const roadmapContainer = document.getElementById('heroRoadmap');
    if (roadmapContainer) {
        document.querySelectorAll('#heroRoadmap .step').forEach(b => b.classList.remove("active"));
           
        const promedNavPages = ['promed-nav', 'promed-about-detail', 'promed-peminatan-detail', 'peminatan-single-detail-temp'];
        const promedNavButton = document.querySelector('.road-step-wrapper .step[data-page="promed-nav"]');

        if (promedNavPages.includes(targetPage) && promedNavButton) {
            promedNavButton.classList.add("active");
        } else {
            const targetBtn = document.querySelector(`#heroRoadmap .step[data-page="${targetPage}"]`);
            if (targetBtn) {
                targetBtn.classList.add("active");
            } else if (targetPage === 'home' && promedNavButton) {
                 promedNavButton.classList.add("active");
            }
        }
    }
}

function stopMediaPlayback() {
    const mediaContainer = document.getElementById('workMediaContainer');
    if (mediaContainer) {
        mediaContainer.innerHTML = '';
    }
}

roadmapButtons.forEach(btn => {
  btn.addEventListener("click", () => {
    // Check if it's the specific new button
    if(btn.classList.contains('btn-lihat-peta')) return; // let onclick handle it
    
    const target = btn.getAttribute("data-page");
    if(target) navigateToPage(target); 
  });
});

document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('#promed-nav .nav-item').forEach(item => {
        item.addEventListener('click', function() {
            navigateToPage(this.dataset.page);
        });
    });
       
    // INITIALIZE HOME ACTIVE STATE
    const promedNavButton = document.querySelector('.road-step-wrapper .step[data-page="promed-nav"]');
    if (promedNavButton) {
        promedNavButton.classList.add("active");
    }

});


const testiCards=document.querySelectorAll('.slider-3d-testimoni .card-testi');
let currentTesti=0;
function updateTesti(){
  testiCards.forEach((card,i)=>{
    const offset=i-currentTesti;
    card.style.transform=`translateX(${offset*340}px) rotateY(${offset*-25}deg) translateZ(${Math.abs(offset)*-100}px)`;
    card.style.zIndex=5-Math.abs(offset);
    card.classList.toggle('active',i===currentTesti);
  });
}
updateTesti();
let hoverTesti=false;
const testiSlider=document.getElementById('sliderTesti');
setInterval(()=>{if(!hoverTesti){currentTesti=(currentTesti+1)%testiCards.length;updateTesti();}},2500);


// DATA PEMINATAN
const peminatanData = [
    { id: 'orangfilm', name: 'Orang Film UI', description: 'Orang Film UI adalah sebuah studio yang juga menjadi mini production house di Produksi Media yang berfokus pada bidang Filmografi, Fotografi & Videografi.', ig: 'orangfilm.ui', igLink: 'https://www.instagram.com/orangfilm.ui?igsh=bGk1NTI0bzBjMzQw', icon: 'fas fa-video', },
    { id: 'wirestudio', name: 'Wire Studio', description: 'WIRE adalah studio Musik dan Audio di Produksi Media Ul yang berfokus pada produksi (music production) serta bisnis musik dan audio (mini-release label).', ig: 'wirestudio.music', igLink: 'https://www.instagram.com/wirestudio.music?igsh=MW1zYmZkM292aGc1dA==', icon: 'fas fa-microphone-alt', },
    { id: 'oxlab', name: 'OX-LABORATORY', description: 'OX-Laboratory adalah studio pengembangan gim dengan fokus memfasilitasi minat mahasiswa dalam produksi gim digital.', ig: 'ox.lab', igLink: 'https://www.instagram.com/ox.lab?igsh=d2k2N3RhOGFvN2M5', icon: 'fas fa-gamepad', },
    { id: 'tobostudio', name: 'TOBO Studio', description: 'Toys and Bricks Development Studio merupakan studio yang mewadahi mahasiswa Produksi Media UI yang memiliki minat dalam fokus mengembangkan mainan.', ig: 'studio.tobo', igLink: 'https://www.instagram.com/studio.tobo?igsh=enU0aXJmZG9ldnlh', icon: 'fas fa-cube', },
    { id: 'pokostudio', name: 'POKO Studio', description: 'PojoKomik (POKO) Studio merupakan studio konsentrasi di jurusan Produksi Media UI yang mengambil langkah inovatif di bidang komik.', ig: 'pojokomik.studio', igLink: 'https://www.instagram.com/pojokomik.studio?igsh=MTh0YWc1bHhqdGJ0dA==', icon: 'fas fa-paint-brush', },
    { id: 'pixelpals', name: 'Pixel Pals', description: 'Pixel Pals adalah nama studio/peminatan dari konsentrasi Animasi dan Desain Visual.', ig: 'pixelpals.ui', igLink: 'https://www.instagram.com/pixelpals.ui?igsh=MWUzZmpxZ3B2eTNmZQ==', icon: 'fas fa-palette', },
    { id: 'spice', name: 'S.P.I.C.E. Studio', description: 'S.P.I.C.E. Studio merupakan wadah bagi mahasiswa konsentrasi HCI dan CT di Produksi Media Ul.', ig: 's.p.i.c.e.studio', igLink: 'https://www.instagram.com/s.p.i.c.e.studio?igsh=MTQwYjR2c3BocGl5MA==', icon: 'fas fa-desktop', },
    { id: 'kulscreative', name: 'KULS Creative', description: 'KULS Creative merupakan studio yang menjadi wadah kreatif bagi para mahasiswa Produksi Media Universitas Indonesia konsentrasi Periklanan.', ig: 'kuls.creative', igLink: 'https://www.instagram.com/kuls.creative?igsh=MW1xMmptNXp3eTZoYQ==', icon: 'fas fa-lightbulb', },
    { id: 'mosaic', name: 'MOSAIC', description: 'MOSAIC adalah studio kolektif profesional dengan fokus khusus pada intelegensi media dan streaming Over-the-Top (OTT).', ig: 'mosaic.ui', igLink: 'https://www.instagram.com/mosaic.ui?igsh=MW52ZGNhcHhoZnpydQ==', icon: 'fas fa-stream', },
    { id: 'promedicon', name: 'PROMED ICON', description: 'ICON merupakan studio bagi mahasiswa konsentrasi Konversi Media & IP.', ig: 'ui.icon', igLink: 'https://www.instagram.com/ui.icon?igsh=MWx2ejM5OWN1cTA2aw==', icon: 'fas fa-sync-alt', },
    { id: 'mvpesports', name: 'MVP E-Sports', description: 'MVP E-Sports merupakan studio di Produksi Media Ul yang fokus mempelajari industri Esports di belakang layar.', ig: 'mvpesport.ui', igLink: 'https://www.instagram.com/mvpesports.ui?igsh=MWt2bHh6cmsycXVxbQ==', icon: 'fas fa-trophy', },
    { id: 'votemedia', name: 'VOTE. Media', description: 'VOTE Media menjadi studio yang menaungi mahasiswa yang memiliki peminatan di bidang Jurnalisme Digital.', ig: 'votemedia.id', igLink: 'https://www.instagram.com/votemedia.id?igsh=Mmlpb2NncWpvZmli', icon: 'fas fa-newspaper', },
    { id: 'fluimedia', name: 'FLUI Media', description: 'FLUI Media adalah studio Media Fashion & Lifestyle yang berada di bawah Produksi Media.', ig: 'fluimedia', igLink: 'https://www.instagram.com/fluimedia?igsh=enN4amZ6aXBuYTJ0', icon: 'fas fa-tshirt', },
];

function renderPeminatanListDetail() {
    const container = document.getElementById('peminatanList');
    if (!container) return;
    container.innerHTML = '';
       
    peminatanData.forEach((peminatan) => {
        const itemBox = document.createElement('div');
        itemBox.classList.add('peminatan-item-box');
        itemBox.onclick = () => showPeminatanDetail(peminatan.id);

        itemBox.innerHTML = `
            <div class="image-placeholder">
                <i class="${peminatan.icon}" style="font-size: 30px;"></i>
            </div>
            <div class="content">
                <h4>${peminatan.name}</h4>
            </div>
        `;
        container.appendChild(itemBox);
    });
}

function showPeminatanDetail(peminatanId) {
    const peminatan = peminatanData.find(p => p.id === peminatanId);
    if (!peminatan) return;

    let tempDetailPage = document.getElementById('peminatan-single-detail-temp');
    if (!tempDetailPage) {
        tempDetailPage = document.createElement('div');
        tempDetailPage.id = 'peminatan-single-detail-temp';
        tempDetailPage.classList.add('page');
        document.body.appendChild(tempDetailPage);
    }

    const igLinkElement = peminatan.igLink 
        ? `<div class="work-detail-footer">
                <a href="${peminatan.igLink}" target="_blank"><i class="fab fa-instagram"></i> Instagram ${peminatan.ig}</a>
           </div>` 
        : '';
        
    const detailContent = `
        <button class="step" data-page="promed-peminatan-detail" style="margin-top: 0; align-self: center;">Kembali ke Studio</button>
        <div class="detail-card">
            <h2 id="peminatanDetailTitle">${peminatan.name}</h2>
            <div class="detail-info">
                <p><strong>Fokus</strong>: Peminatan ${peminatan.name}</p>
            </div>
            <div class="detail-description">
                <p>${peminatan.description}</p>
            </div>
            ${igLinkElement}
        </div>
    `;
    
    tempDetailPage.innerHTML = detailContent;
    navigateToPage(tempDetailPage.id);

    const backButton = tempDetailPage.querySelector('.step[data-page="promed-peminatan-detail"]');
    if(backButton) {
        backButton.addEventListener('click', () => {
             navigateToPage('promed-peminatan-detail');
        });
    }
}
document.addEventListener('DOMContentLoaded', () => {
    if (document.getElementById('peminatanList')) {
        renderPeminatanListDetail();
    }
});


// DATA DOSEN
const dosenData = [
    { name: "N. Rangga Wisesa, Ph.D.", image:"fotodosen.jpg/Untitled design.zip - 1.JPG", position: "Kepala Program Studi Produksi Media", ig: "ranggawisesa", igLink: "https://www.instagram.com/ranggawisesa", linkedin: "dr-rangga-w-2906189b", linkedinLink: "https://www.linkedin.com/in/dr-rangga-w-2906189b" },
    { name: "Dr. Achmad Istamar", image:"fotodosen.jpg/Untitled design.zip - 2.JPG", position: "Country Head-Indonesia at Google Customer Solutions", ig: "achmadistamar", igLink: "https://www.instagram.com/achmadistamar", linkedin: "istamar", linkedinLink: "https://www.linkedin.com/in/istamar" },
    { name: "Sheila Timothy", image:"fotodosen.jpg/Untitled design.zip - 3.JPG", position: "Produser Film", ig: "lalatimothy", igLink: "https://www.instagram.com/lalatimothy", linkedin: "sheila-timothy", linkedinLink: "https://www.linkedin.com/in/sheila-timothy" },
    { name: "Dian Paramita Sastrowardoyo, M.M.", image:"fotodosen.jpg/Untitled design.zip - 4.JPG", position: "Aktris, Produser, Sutradara Film", ig: "therealdisastr", igLink: "https://www.instagram.com/therealdisastr", linkedin: null, linkedinLink: "https://www.linkedin.com/in/dian-paramita-sastrowardoyo" }, 
    { name: "Alif Keenan Ibrahim, M.A.", image:"fotodosen.jpg/Untitled design.zip - 5.JPG", position: "Content Strategy & Analytics at Vidio", ig: "alif.keenan", igLink: "https://www.instagram.com/alif.keenan", linkedin: "alif-ibrahim", linkedinLink: "https://www.linkedin.com/in/alif-ibrahim" },
    { name: "Hendrika Gaudens Refwalu, M.M.", image:"fotodosen.jpg/Untitled design.zip - 6.JPG", position: "Marketing Lead Microsoft Indonesia", ig: "densi_refwalu", igLink: "https://www.instagram.com/densi_refwalu", linkedin: "densirefwalu", linkedinLink: "https://www.linkedin.com/in/densirefwalu" },
    { name: "Wafa Taftazani, MBA", image:"fotodosen.jpg/Untitled design.zip - 7.JPG", position: "pendiri dan CEO Upbanx", ig: "wafataftazani", igLink: "https://www.instagram.com/wafataftazani", linkedin: "wafataftazani", linkedinLink: "https://www.linkedin.com/in/wafataftazani" },
    { name: "Svida S.P. Alisjahbana, MBA", image:"fotodosen.jpg/Untitled design.zip - 9.JPG", position: "President director atau CEO Femina Group", ig: "svidss", igLink: "https://www.instagram.com/svidss", linkedin: "svidaalisjahbana", linkedinLink: "https://www.linkedin.com/in/svidaalisjahbana" },
    { name: "Gabriel Chemin, MBA", image:"fotodosen.jpg/Untitled design.zip - 8.JPG", position: "General Project Manager Spotify",  igLink: "https://www.instagram.com/gabechemin", linkedin: "gabriel-chemin", linkedinLink: "https://www.linkedin.com/in/gabriel-chemin" }, 
    { name: "Dr. Eunice Sari", image:"fotodosen.jpg/Untitled design.zip - 10.JPG", ig: "eunicesari",  position: "Co-Founder dan Principal UX Consultant", igLink: "https://www.instagram.com/eunicesari", linkedin: "dr-eunice-sari", linkedinLink: "https://www.linkedin.com/in/dr-eunice-sari" },
    { name: "Arief Suditomo, MA", image:"fotodosen.jpg/Untitled design.zip - 11.JPG", position: "News Director & Editor in Chief Metro TV", ig: "ariefsuditomo", igLink: "https://www.instagram.com/ariefsuditomo", linkedin: "ariefsuditomo", linkedinLink: "https://www.linkedin.com/in/ariefsuditomo" },
    { name: "Nadif Zahirudin", image:"fotodosen.jpg/Untitled design.zip - 12.JPG", position: "pendiri KUY Media Group dan CMO Nusantara Lampung FC", ig: null, igLink: null, linkedin: "nzahiruddin", linkedinLink: "https://www.linkedin.com/in/nzahiruddin" },
    { name: "Dr. Soraya Haque", image:"fotodosen.jpg/Untitled design.zip - 13.JPG", position: "Model", ig: "sorayahaque", igLink: "https://www.instagram.com/sorayahaque", linkedin: null, linkedinLink: null },
    { name: "Lukman Sardi", image:"fotodosen.jpg/Untitled design.zip - 14.JPG", position: "Sutradara & Produser", ig: "lukmansrd", igLink: "https://www.instagram.com/lukmansrd", linkedin: "lukman-sardi", linkedinLink: "https://www.linkedin.com/in/lukman-sardi" }
];

const dosenGridContainer = document.getElementById('dosenGrid');
const dosenArchContainer = document.getElementById('dosen-arch-scene');

function renderDosenGrid() {
    if (!dosenGridContainer) return;
    dosenGridContainer.innerHTML = '';
    dosenGridContainer.classList.add('dosen-grid');

    dosenData.forEach((dosen, index) => {
        const card = document.createElement('div');
        card.classList.add('dosen-card');
        card.id = 'dosen-card-' + index; // ID for scrolling target
        
        let socialLinks = '';
        if (dosen.igLink) {
            socialLinks += `<a href="${dosen.igLink}" target="_blank"><i class="fab fa-instagram"></i></a>`;
        }
        if (dosen.linkedinLink) {
            socialLinks += `<a href="${dosen.linkedinLink}" target="_blank"><i class="fab fa-linkedin"></i></a>`;
        }

        let imageHTML = '';
        if (dosen.image) {
            imageHTML = `<img src="${dosen.image}" alt="${dosen.name}" class="dosen-image-real">`;
        } else {
            imageHTML = `<div class="dosen-image-placeholder">[Foto Dosen ${index + 1}]</div>`;
        }

        card.innerHTML = `
            ${imageHTML}
            <h4>${dosen.name}</h4>
            <p class="dosen-expertise">${dosen.position}</p>
            <div class="dosen-social-links">${socialLinks}</div>
        `;
        dosenGridContainer.appendChild(card);
    });
    
    renderDosenArch();
}

// --- ANIMATED ARCH LOGIC ---
let archAnimationId;
let archIsPaused = false;
let currentArchOffset = 0; 

function renderDosenArch() {
    if (!dosenArchContainer) return;
    dosenArchContainer.innerHTML = '';
    
    if(archAnimationId) cancelAnimationFrame(archAnimationId);
    
    const total = dosenData.length;
    const radius = 600; 
    const centerX = dosenArchContainer.clientWidth / 2;
    const centerY = 600; 
    
    dosenData.forEach((dosen, index) => {
        const item = document.createElement('div');
        item.classList.add('arch-item');
        
        let imgSrc = "https://via.placeholder.com/120x160"; 
        if (dosen.image) {
            imgSrc = dosen.image;
        }
        
        item.innerHTML = `<img src="${imgSrc}" alt="${dosen.name}" draggable="false">`; 
        item.title = dosen.name;
        
        item.onclick = () => {
            const target = document.getElementById('dosen-card-' + index);
            if(target) {
                target.scrollIntoView({behavior: 'smooth', block: 'center'});
                target.style.transition = "transform 0.3s, box-shadow 0.3s";
                target.style.transform = "scale(1.05)";
                target.style.boxShadow = "0 0 20px var(--accent)";
                setTimeout(() => {
                    target.style.transform = "scale(1)";
                    target.style.boxShadow = "";
                }, 1000);
            }
        };
        
        item.addEventListener('mouseenter', () => { archIsPaused = true; });
        item.addEventListener('mouseleave', () => { archIsPaused = false; });
        
        dosenArchContainer.appendChild(item);
    });
    
    animateArch();
}

function animateArch() {
    const items = document.querySelectorAll('.arch-item');
    const total = items.length;
    const radius = 450; 
    const spread = 20; 
    
    if (!archIsPaused) {
        currentArchOffset -= 0.05; 
    }
    
    items.forEach((item, index) => {
        let angleDeg = (index * spread) + currentArchOffset;
        let theta = (angleDeg - 90) * (Math.PI / 180); 
        
        let x = Math.cos(theta) * radius;
        let y = Math.sin(theta) * radius;
        
        let rotateCard = x * 0.05; 
        
        const cX = dosenArchContainer.clientWidth / 2;
        const cY = 500; 
        
        item.style.left = (cX + x - 60) + 'px'; 
        item.style.top = (cY + y - 80) + 'px';  
        
        let normAngle = (angleDeg % 360);
        if (normAngle < 0) normAngle += 360;
        
        if (y > 0) {
             item.style.opacity = 0;
             item.style.pointerEvents = 'none';
        } else {
             item.style.opacity = 1;
             item.style.pointerEvents = 'auto';
        }
        
        item.style.transform = `rotate(${rotateCard}deg)`;
    });
    
    archAnimationId = requestAnimationFrame(animateArch);
}


// DATA KARYA
const worksData = [
    { id: 'arteeich_ever', title: 'Ever', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Ever by Arteeich.', mediaType: 'music', youtubeId: '4Q9zHVsCQ-8', youtubeLink: 'https://youtu.be/4Q9zHVsCQ-8', igLink: 'https://www.instagram.com/arteeich/' },
    
    { id: 'juzzer_buku', title: 'Buku Pesta Cinta', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Buku Pesta Cinta by Juzzer.', mediaType: 'music', youtubeId: '9HhlxZ9X3hE', youtubeLink: 'https://youtu.be/9HhlxZ9X3hE', igLink: 'https://www.instagram.com/juzzer.music/' },
    { id: 'juzzer_perempuan', title: 'Apakah Aku Harus Berubah Menjadi Perempuan', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Apakah Aku Harus Berubah Menjadi Perempuan by Juzzer.', mediaType: 'music', youtubeId: 'rJKbeRe2nvw', youtubeLink: 'https://youtu.be/rJKbeRe2nvw', igLink: 'https://www.instagram.com/juzzer.music/' },
    { id: 'juzzer_asam', title: 'Asam Manis', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Asam Manis by Juzzer.', mediaType: 'music', youtubeId: 'rJKbeRe2nvw', youtubeLink: 'https://youtu.be/rJKbeRe2nvw', igLink: 'https://www.instagram.com/juzzer.music/' },
    { id: 'juzzer_akukau', title: 'Aku Kau dan Musik', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Aku Kau dan Musik by Juzzer.', mediaType: 'music', youtubeId: 'poZUlQ7I7h4', youtubeLink: 'https://youtu.be/poZUlQ7I7h4', igLink: 'https://www.instagram.com/juzzer.music/' },
    { id: 'juzzer_heykau', title: 'Hey Kau Gadis Nan Jauh Disana', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Hey Kau Gadis Nan Jauh Disana by Juzzer.', mediaType: 'music', youtubeId: 'zWXvpkdwedY', youtubeLink: 'https://youtu.be/zWXvpkdwedY', igLink: 'https://www.instagram.com/juzzer.music/' },
    
    { id: 'sh_alleen', title: 'Alleen', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Alleen by Secret Hideaway.', mediaType: 'music', youtubeId: 'mMdXWIQ4ppU', youtubeLink: 'https://youtu.be/mMdXWIQ4ppU', igLink: 'https://www.instagram.com/secrethideaway/' },
    { id: 'sh_firstlook', title: 'First Look', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu First Look by Secret Hideaway.', mediaType: 'music', youtubeId: '8MFqPf4c9jg', youtubeLink: 'https://youtu.be/8MFqPf4c9jg', igLink: 'https://www.instagram.com/secrethideaway/' },
    { id: 'sh_tryagain', title: 'Try Again', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Try Again by Secret Hideaway.', mediaType: 'music', youtubeId: 'aeI7lVT-mMA', youtubeLink: 'https://youtu.be/aeI7lVT-mMA', igLink: 'https://www.instagram.com/secrethideaway/' },
    { id: 'sh_hideaway', title: 'Hideaway', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Hideaway by Secret Hideaway.', mediaType: 'music', youtubeId: '8GbPy8YtRiE', youtubeLink: 'https://youtu.be/8GbPy8YtRiE', igLink: 'https://www.instagram.com/secrethideaway/' },
    
    { id: 'sd_givein', title: 'Give In To The Groove', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Give In To The Groove by Sarjana Disko.', mediaType: 'music', youtubeId: '7rkB7-zWjxA', youtubeLink: 'https://youtu.be/7rkB7-zWjxA', igLink: 'https://www.instagram.com/sarjanadisko/' },
    
    { id: 'cp_wherever', title: 'Wherever The Wind Take Us', category: 'Musik', type: 'music', status: 'Aktif', description: 'Lagu Wherever The Wind Take Us by Charmless Pals.', mediaType: 'music', youtubeId: 'PbQ9KoLncWc', youtubeLink: 'https://youtu.be/PbQ9KoLncWc', igLink: 'https://www.instagram.com/charmlesspals/' },

    // -- KARYA LAINNYA (GAME/FILM) TETAP ADA --
    { id: 'fate', imageSrc: "fotoposter.jpg/IMG_5358.JPG", title: 'Fate', category: 'Film Cerita Pendek', type: 'film', status: 'Pemenang VUIFILMFEST 2024', description: 'Film cerita pendek karya mahasiswa Produksi Media UI.', mediaType: 'film' },
    { id: 'baduy', imageSrc: "fotoposter.jpg/IMG_5359.JPG", title: 'Baduy', category: 'Film Dokumenter', type: 'film', status: 'Pemenang VUIFILMFEST 2024', description: 'Film dokumenter karya mahasiswa Produksi Media UI.', mediaType: 'film' },
    { id: 'Drawn To You', imageSrc: "fotoposter.jpg/IMG_5360.JPG", title: 'Drawn To You', category: 'Film', type: 'film', status: 'Film pendek', description: 'Film pendek buatan mahasiswa Produksi Media UI.', igLink: null },
    { id: 'Kita Perbaiki', imageSrc: "fotoposter.jpg/IMG_5361.JPG", title: 'Kita Perbaiki', category: 'Film', type: 'film', status: 'Film pendek', description: 'Film pendek buatan mahasiswa Produksi Media UI.', mediaType: 'film', igLink: null },
    { id: 'Masih Bingung', imageSrc: "fotoposter.jpg/IMG_5362.JPG", title: 'Masih Bingung', category: 'Film', type: 'film', status: 'Film pendek', description: 'Film pendek buatan mahasiswa Produksi Media UI.', mediaType: 'film', igLink: null },
    { id: 'room308', imageSrc: "fotoposter.jpg/ba794e24-0a2b-4589-ba82-854458821375 2.jpg", title: 'Room 308', category: 'Game - Horror', type: 'game', status: 'Selesai', description: 'Game horror buatan mahasiswa Produksi Media UI.', mediaType: 'game' },
    { id: 'ard', imageSrc: "fotoposter.jpg/b343ac76-188e-495a-a112-1880f2aed3d0 2.jpg", title: 'Animal Resource Department', category: 'Game - Simulasi', type: 'game', status: 'Selesai', description: 'Game simulasi buatan mahasiswa Produksi Media UI.', mediaType: 'game' },
    { id: 'lodayaconquest', imageSrc: "fotoposter.jpg/Untitled design.zip - 15.JPG", title: 'Lodaya Conquest', category: 'Game - Adventure', type: 'game', status: 'Selesai', description: 'Game adventure buatan mahasiswa Produksi Media UI.', mediaType: 'game' },
    { id: 'pilahsampah', imageSrc:"fotoposter.jpg/Untitled design.zip - 16.JPG", title: 'Yuk Pilah Sampah Game Edukasi', category: 'Game - Edukasi', type: 'game', status: 'Rilis di Play Store', description: 'Game edukasi mengenai sampah.', mediaType: 'game', playStoreLink: 'https://play.google.com/store/apps/details?id=com.oxlab.yukpilahsampah' },
];

const worksList = document.getElementById('worksList');
const scrollLeftBtn = document.getElementById('scrollLeft');
const scrollRightBtn = document.getElementById('scrollRight');
const scrollAmount = 240; 
let currentFilter = 'all';

function renderWorksList(filter = 'all') {
    if (filter === 'music') {
        showMusicChoiceModal();
        document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
        document.getElementById('musicTab').classList.add('active');
        return; 
    }

    worksList.innerHTML = '';
    const filteredData = worksData.filter(work => filter === 'all' || work.type === filter);
       
    if (filteredData.length === 0) {
        worksList.innerHTML = '<p style="color:var(--muted); text-align:center; width:100%;">Tidak ada karya dalam kategori ini.</p>';
        scrollLeftBtn.style.display = 'none';
        scrollRightBtn.style.display = 'none';
        return;
    }
       
    scrollLeftBtn.style.display = 'block';
    scrollRightBtn.style.display = 'block';

    filteredData.forEach(work => {
        const wrapper = document.createElement('div');
        wrapper.classList.add('work-card-wrapper');
        wrapper.dataset.id = work.id;
        wrapper.onclick = () => navigateToPage('work-detail', work.id);

        const shortDesc = work.description.substring(0, 70) + (work.description.length > 70 ? '...' : '');
        const categoryDisplay = work.category.split(' - ')[0];

        // --- PERBAIKAN DISINI ---
        let thumbUrl = '';
        
        // 1. Cek apakah ada file gambar manual (seperti fate.jpg)
        if (work.imageSrc) {
            thumbUrl = work.imageSrc;
        } 
        // 2. Jika tidak ada, cek apakah ada YouTube ID
        else if (work.youtubeId) {
            thumbUrl = `https://img.youtube.com/vi/${work.youtubeId}/mqdefault.jpg`;
        }

        // Jika ada thumbUrl (baik dari file atau YouTube), jadikan gambar. Jika tidak, jadi teks.
        const coverContent = thumbUrl 
            ? `<img src="${thumbUrl}" style="width:100%; height:100%; object-fit:cover;" alt="${work.title}">` 
            : `Cover ${work.title}`;
        // ------------------------

        wrapper.innerHTML = `
            <div class="work-card">
                <div class="work-card-info">
                    <h4>${work.title}</h4>
                    <p>${categoryDisplay}</p>
                    <p>${shortDesc}</p>
                </div>
                <div class="work-card-image">${coverContent}</div>
                <div class="work-card-caption">${work.title}</div>
            </div>
        `;
        worksList.appendChild(wrapper);
    });
    worksList.scrollLeft = 0;
    checkScrollPosition();
}

function showMusicChoiceModal() {
    document.getElementById('musicChoiceModal').style.display = 'flex';
}

function showManualMusic() {
    document.getElementById('musicChoiceModal').style.display = 'none';
    worksList.innerHTML = '';
    const filteredData = worksData.filter(work => work.type === 'music');
    
    scrollLeftBtn.style.display = 'block';
    scrollRightBtn.style.display = 'block';

    filteredData.forEach(work => {
        const wrapper = document.createElement('div');
        wrapper.classList.add('work-card-wrapper');
        wrapper.dataset.id = work.id;
        wrapper.onclick = () => navigateToPage('work-detail', work.id);
        
        const shortDesc = work.description.substring(0, 70) + (work.description.length > 70 ? '...' : '');
        const categoryDisplay = work.category.split(' - ')[0];
        
        let thumbUrl = '';
        if(work.youtubeId) thumbUrl = `https://img.youtube.com/vi/${work.youtubeId}/mqdefault.jpg`;
        const coverContent = thumbUrl ? `<img src="${thumbUrl}" style="width:100%; height:100%; object-fit:cover;">` : `Cover ${work.title}`;

        wrapper.innerHTML = `
            <div class="work-card">
                <div class="work-card-info">
                    <h4>${work.title}</h4>
                    <p>${categoryDisplay}</p>
                    <p>${shortDesc}</p>
                </div>
                <div class="work-card-image">${coverContent}</div>
                <div class="work-card-caption">${work.title}</div>
            </div>
        `;
        worksList.appendChild(wrapper);
    });
    worksList.scrollLeft = 0;
    checkScrollPosition();
}

function startSpinUI() {
    document.getElementById('musicChoiceModal').style.display = 'none';
    document.getElementById('spinWheelOverlay').style.display = 'flex';
    
    const leftScreen = document.getElementById('spinScreenLeft');
    const rightScreen = document.getElementById('spinScreenRight');
    
    leftScreen.innerHTML = `
        <div style="width:180px; height:180px; background:#222; display:flex; align-items:center; justify-content:center; border-radius:12px; border:2px solid #444; box-shadow:0 10px 30px rgba(0,0,0,0.5);">
            <i class="fas fa-music" style="font-size:60px; color:#555;"></i>
        </div>
    `;

    rightScreen.innerHTML = `
        <h2>Ready?</h2>
        <h3>Tekan Tombol Play di Kanan Bawah</h3>
        <p>---</p>
    `;
    
    const btn = document.getElementById('btnSpinTrigger');
    btn.disabled = false;
}

function closeSpinUI() {
    document.getElementById('spinWheelOverlay').style.display = 'none';
}

function spinTheWheel() {
    const btn = document.getElementById('btnSpinTrigger');
    const musicItems = worksData.filter(w => w.type === 'music');
    
    if (musicItems.length === 0) return;

    btn.disabled = true;
    
    let duration = 3000; 
    let intervalTime = 100; 
    let elapsedTime = 0;
    let finalItem = null;

    const shuffleInterval = setInterval(() => {
        const randomIndex = Math.floor(Math.random() * musicItems.length);
        const item = musicItems[randomIndex];
        
        updateSpinDisplay(item, false); 
        
        elapsedTime += intervalTime;
        
        if (elapsedTime > duration - 1000) {
        }
        
        if (elapsedTime >= duration) {
            clearInterval(shuffleInterval);
            const finalIndex = Math.floor(Math.random() * musicItems.length);
            finalItem = musicItems[finalIndex];
            updateSpinDisplay(finalItem, true);
            
            setTimeout(() => {
                closeSpinUI();
                showWorkDetail(finalItem.id);
            }, 1500);
        }
    }, intervalTime);
}

function updateSpinDisplay(item, isFinal) {
    const leftScreen = document.getElementById('spinScreenLeft');
    const rightScreen = document.getElementById('spinScreenRight');
    
    let thumbUrl = '';
    if(item.youtubeId) thumbUrl = `https://img.youtube.com/vi/${item.youtubeId}/hqdefault.jpg`;
    
    leftScreen.innerHTML = `<img src="${thumbUrl}" alt="${item.title}" style="animation: fadeIn 0.1s;">`;

    const artistName = item.category.split(' - ')[0];
    const titleColor = isFinal ? '#ffd24d' : 'white';

    rightScreen.innerHTML = `
        <h2 style="color:${titleColor}; animation: fadeIn 0.1s;">${artistName}</h2>
        <h3 style="animation: fadeIn 0.1s;">${item.title}</h3>
        <p style="animation: fadeIn 0.1s;">Track Recording - ${isFinal ? 'Selected' : 'Scanning...'}</p>
    `;
}


function showWorkDetail(workId) {
    const work = worksData.find(w => w.id === workId);
    if (!work) return;

    document.getElementById('workDetailTitle').textContent = work.title;
    document.getElementById('workDetailCategory').textContent = work.category;
    document.getElementById('workDetailStatus').textContent = work.status;
    document.getElementById('workDetailDescription').textContent = work.description || "Deskripsi karya ini akan segera diperbarui.";

    const mediaContainer = document.getElementById('workMediaContainer');
    const footerContainer = document.getElementById('workDetailFooter');
    footerContainer.innerHTML = '';

    // LOGIKA BARU: Tampilkan Gambar Thumbnail jika ada YouTube ID
    let imgUrl = '';
    if (work.youtubeId) {
        // Gunakan thumbnail kualitas tinggi
        imgUrl = `https://img.youtube.com/vi/${work.youtubeId}/hqdefault.jpg`;
    } else if (work.imageSrc) {
        // Fallback jika ada gambar manual (opsional)
        imgUrl = work.imageSrc;
    }

    if (imgUrl) {
        mediaContainer.style.display = 'block';
        // Reset style agar gambar tampil proporsional (bukan rasio video)
        mediaContainer.style.paddingBottom = '0'; 
        mediaContainer.style.height = 'auto';
        mediaContainer.style.background = 'transparent';
        
        // Tampilkan Gambar
        mediaContainer.innerHTML = `<img src="${imgUrl}" alt="${work.title}" style="width:100%; height:auto; border-radius:10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">`;
    } else {
        mediaContainer.style.display = 'none';
        mediaContainer.innerHTML = '';
    }

    if (work.youtubeLink) footerContainer.innerHTML += `<a href="${work.youtubeLink}" target="_blank"><i class="fab fa-youtube"></i> YouTube</a>`;
    if (work.igLink) footerContainer.innerHTML += `<a href="${work.igLink}" target="_blank"><i class="fab fa-instagram"></i> Instagram</a>`;
    if (work.playStoreLink) footerContainer.innerHTML += `<a href="${work.playStoreLink}" target="_blank"><i class="fas fa-external-link-alt"></i> Lihat di Sini</a>`;

    navigateToPage('work-detail');
}

document.querySelectorAll('.tab-button').forEach(button => {
    button.addEventListener('click', function() {
        if (this.dataset.filter !== 'music') { 
             document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
             this.classList.add('active');
        }
        
        currentFilter = this.dataset.filter;
        renderWorksList(currentFilter);
    });
});

function checkScrollPosition() {
    scrollLeftBtn.disabled = worksList.scrollLeft === 0;
    scrollRightBtn.disabled = worksList.scrollLeft + worksList.clientWidth >= worksList.scrollWidth - 1;
}
scrollLeftBtn.addEventListener('click', () => {
    worksList.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
    setTimeout(checkScrollPosition, 400); 
});
scrollRightBtn.addEventListener('click', () => {
    worksList.scrollBy({ left: scrollAmount, behavior: 'smooth' });
    setTimeout(checkScrollPosition, 400);
});
document.addEventListener('DOMContentLoaded', () => {
    if (document.getElementById('worksList')) {
        renderWorksList(currentFilter);
    }
});
worksList.addEventListener('scroll', checkScrollPosition);


// EVENTS & CALENDAR (Updated Logic for Neumorphic)
const eventsData = [
    { id: 'prorientation', name: 'Prorientation', dates: [new Date('2025-08-21'), new Date('2025-11-03')], monthDisplay: 'Agustus - November', place: 'Auditorum Vokasi', organizer: 'HIMPRODIA UI', description: 'Prorientation adalah suatu acara Masa Bimbingan Produksi Media.', ig: 'prorientation.ui', igLink: 'https://www.instagram.com/prorientation.ui?igsh=NjZoOWhzOGdxejR0' },
    { id: 'promed_olympic', name: 'Promed Olympic', dates: [new Date('2025-10-31'), new Date('2025-11-12')], monthDisplay: 'Oktober - November', place: 'Wira Yudha', organizer: 'Departemen Olahraga HIMPRODIA UI', description: 'Promed Olympic merupakan ajang perlombaan olahraga.', ig: 'promed.olympic', igLink: 'https://www.instagram.com/promed.olympic?igsh=MWhyMWFoaWozdWFhZA==' },
    { id: 'promed_sejalan', name: 'Promed Sejalan', dates: [new Date('2025-11-11')], monthDisplay: 'November', place: 'Kantin Vokasi', organizer: 'Departemen Seni Budaya HIMPRODIA UI', description: 'Sejalan adalah suatu acara yang memberikan ruang apresiasi seniman jalanan.', ig: 'promed.sejalan', igLink: 'https://www.instagram.com/promed.sejalan?igsh=MTc5d3JycWZkZmx1ag==' },
    { id: 'etopia', name: 'ETOPIA', dates: [new Date('2025-11-05')], monthDisplay: 'November', place: 'Auditorium Pusgiwa UI', organizer: 'Departemen Olahraga HIMPRODIA UI', description: 'Etopia adalah sebuah acara tournament esports.', ig: 'etopia.ui', igLink: 'https://www.instagram.com/etopia.ui?igsh=MTN6c2doaHRtN3A1ZQ==' },
    { id: 'promed_mengajar', name: 'Promed Mengajar', dates: [new Date('2025-11-10'), new Date('2025-11-12')], monthDisplay: 'November', place: 'SMA Pemuka Depok', organizer: 'Departemen Sosial dan Masyarakat', description: 'Promed Mengajar merupakan program kerja pengabdian masyarakat.', ig: 'promed.megajar', igLink: 'https://www.instagram.com/mediaexperience.ui?igsh=ZTZuMno0bm03cWk1' },
    { id: 'media_experience', name: 'Media Experience', dates: [new Date('2025-11-20')], monthDisplay: 'November', place: 'Makara Art Center', organizer: 'Departemen Seni Budaya', description: 'Media Experience adalah sebuah ajang apresiasi karya mahasiswa.', ig: 'mediaexperience.ui', igLink: 'https://www.instagram.com/mediaexperience.ui?igsh=ZTZuMno0bm03cWk1' },
    { id: 'promates_market', name: 'Promates Market', dates: [new Date('2025-11-20')], monthDisplay: 'November', place: 'Kantin Vokasi Lantai 2', organizer: 'Departemen Ekonomi', description: 'Promates Market merupakan pasar preloved.', ig: 'promates.market', igLink: 'https://www.instagram.com/promates.market?igsh=MTRkdndycnJ2cDd0ZQ==' }
];

const monthNames = ["Juli", "Agustus", "September", "Oktober", "November", "Desember"];
const startMonth = 7; // Juli
const endMonth = 12;  // Desember
let currentMonthIndex = 0;

function getEventDates(eventId) {
    const event = eventsData.find(e => e.id === eventId);
    if (!event) return '';
    const dates = event.dates.map(d => new Date(d.getTime()));
    if (dates.length === 1) return dates[0].toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' });
    
    const startDate = dates[0].toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' });
    const endDate = dates[dates.length - 1].toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' });
    return `${startDate} - ${endDate}`;
}

function showEventDetail(eventId) {
    const event = eventsData.find(e => e.id === eventId);
    if (!event) return;
    document.getElementById('detailTitle').textContent = event.name;
    document.getElementById('detailDate').textContent = getEventDates(eventId);
    document.getElementById('detailPlace').textContent = event.place;
    document.getElementById('detailOrganizer').textContent = event.organizer;
    document.getElementById('detailDescription').textContent = event.description;
    document.getElementById('detailIgName').textContent = event.ig;
    document.getElementById('detailIgLink').href = event.igLink;
    navigateToPage('event-detail');
}

// --- NEUMORPHIC CALENDAR LOGIC ---

const neuCalendarGrid = document.getElementById('neuCalendarGrid');
const neuMonthYear = document.getElementById('neuMonthYear');
const sidePanelContent = document.getElementById('sidePanelContent');
const eventSidePanel = document.getElementById('eventSidePanel');

function renderNeuCalendar(monthOffset) {
    const year = 2025;
    const month = startMonth + monthOffset;
    
    if (month < startMonth || month > endMonth) return;

    const date = new Date(year, month - 1, 1);
    const lastDay = new Date(year, month, 0).getDate();
    const firstDayIndex = date.getDay() === 0 ? 6 : date.getDay() - 1; // Mod Monday start

    neuMonthYear.textContent = `${monthNames[month - startMonth]} ${year}`;
    neuCalendarGrid.innerHTML = '';

    // Previous Month Days (Empty or gray)
    for (let i = 0; i < firstDayIndex; i++) {
        const emptyCell = document.createElement('div');
        emptyCell.classList.add('neu-date-cell', 'inactive');
        neuCalendarGrid.appendChild(emptyCell);
    }

    // Current Month Days
    for (let day = 1; day <= lastDay; day++) {
        const dayCell = document.createElement('div');
        dayCell.classList.add('neu-date-cell');
        dayCell.textContent = day;

        const currentDate = new Date(year, month - 1, day);
        currentDate.setHours(0, 0, 0, 0);

        // Check Events (MODIFIED LOGIC: Hanya tanggal pertama/awal yang dapat dot biru)
        const relevantEvents = eventsData.filter(event => {
            const startDate = new Date(event.dates[0]);
            startDate.setHours(0, 0, 0, 0);
            // Cek apakah tanggal kalender sama dengan tanggal mulai event
            return currentDate.getTime() === startDate.getTime();
        });

        if (relevantEvents.length > 0) {
            dayCell.classList.add('has-event');
            const dot = document.createElement('div');
            dot.classList.add('neu-event-dot');
            dayCell.appendChild(dot);
            
            // --- NEW: Create Popup ---
            const popup = document.createElement('div');
            popup.classList.add('event-popup');
            popup.innerText = relevantEvents[0].name; // Menampilkan nama event pertama
            dayCell.appendChild(popup);

            // Click Handler -> Open Sidebar
            dayCell.onclick = () => {
                populateSidePanel(relevantEvents, day, monthNames[month - startMonth]);
                openSidePanel();
            };
        }

        neuCalendarGrid.appendChild(dayCell);
    }

    // Disable buttons logic (visual)
    document.getElementById('neuPrevMonth').style.opacity = (month === startMonth) ? '0.5' : '1';
    document.getElementById('neuNextMonth').style.opacity = (month === endMonth) ? '0.5' : '1';
}

function populateSidePanel(events, day, monthName) {
    let html = `<div style="margin-bottom:20px; font-weight:bold; font-size:1.2rem;">${day} ${monthName} 2025</div>`;
    
    events.forEach(evt => {
        html += `
            <div class="note-item" onclick="showEventDetail('${evt.id}')" style="cursor:pointer;">
                <h4>${evt.name}</h4>
                <div class="meta"><i class="fas fa-map-marker-alt"></i> ${evt.place}</div>
                <p>${evt.description}</p>
                <small style="color:var(--accent); margin-top:5px; display:block;">Klik untuk detail lengkap</small>
            </div>
        `;
    });
    sidePanelContent.innerHTML = html;
}

function toggleSidePanel() {
    // If opening without specific date, show generic or all upcoming events
    if (!eventSidePanel.classList.contains('open')) {
         // Optional: Populate with "Upcoming events" if opening via triangle
         // populateSidePanel(getAllUpcomingEvents(), 'Kegiatan', 'Mendatang');
    }
    eventSidePanel.classList.toggle('open');
}

function openSidePanel() {
    eventSidePanel.classList.add('open');
}

function closeSidePanel() {
    eventSidePanel.classList.remove('open');
}

// Button Listeners
document.getElementById('neuPrevMonth').addEventListener('click', () => {
    if (currentMonthIndex > 0) {
        currentMonthIndex--;
        renderNeuCalendar(currentMonthIndex);
    }
});
document.getElementById('neuNextMonth').addEventListener('click', () => {
    if (currentMonthIndex < monthNames.length - 1) {
        currentMonthIndex++;
        renderNeuCalendar(currentMonthIndex);
    }
});

// Init
renderNeuCalendar(currentMonthIndex);

// --- LOGIKA EASTER EGG (DUA ICON KIRI & KANAN) ---
let leftIconClicked = false;
let rightIconClicked = false;

function handleIconClick(side) {
    if (side === 'left') {
        leftIconClicked = true;
        document.getElementById('iconLeft').classList.add('clicked');
    } else {
        rightIconClicked = true;
        document.getElementById('iconRight').classList.add('clicked');
    }

    checkEasterEgg();
}

function checkEasterEgg() {
    // Jika KEDUANYA sudah diklik
    if (leftIconClicked && rightIconClicked) {
        setTimeout(() => {
             document.getElementById('easterEggModal').style.display = 'flex';
        }, 300); // Delay dikit biar kelihatan efek kliknya
    }
}

function closeEasterEgg() {
    document.getElementById('easterEggModal').style.display = 'none';
    
    // Reset status agar bisa dimainkan lagi
    leftIconClicked = false;
    rightIconClicked = false;
    document.getElementById('iconLeft').classList.remove('clicked');
    document.getElementById('iconRight').classList.remove('clicked');
}

// FUNGSI BARU UNTUK MEMBUKA MODAL ABOUT SECARA LANGSUNG
function openAboutModal() {
    document.getElementById('easterEggModal').style.display = 'flex';
}

</script>
</body>  
</html>